(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{HymT:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("uWAI"),o=i("tk/3"),b=i("fXoL"),c=i("tyNb");let s=(()=>{class t{constructor(t,e){this.dataSource=t,this.router=e,this.serviceUrl="api/v1/ships",this.serviceAdminUrl="api/v1/admin/ships",this.serviceAdminAgentUrl="api/v1/adminAgent/ships",this.serviceServiceAdminUrl="api/v1/serviceAdmin/ships",this.serviceServiceAgentUrl="api/v1/serviceAgent/ships"}getAllShip(t=0){const e=(new o.c).set("page",t.toString());return this.dataSource.sendRequest("GET",this.serviceUrl,null,!1,e)}getAdminShipPage(t=0){const e=(new o.c).set("page",t.toString());return this.dataSource.sendRequest("GET",this.serviceAdminUrl,null,!0,e)}getAdminShip(t){return this.dataSource.sendRequest("GET",this.serviceAdminUrl+"/"+t,null,!0,null)}saveAdminShip(t){return this.dataSource.sendRequest("POST",this.serviceAdminUrl,t,!0,null)}updateAdminShip(t,e){return this.dataSource.sendRequest("PUT",this.serviceAdminUrl+"/"+t,e,!0,null)}getAdminShipMap(t,e,i){const n=(new o.c).set("startDate",e).set("endDate",i);return this.dataSource.sendRequest("GET",this.serviceAdminUrl+"/shipMap/"+t,null,!0,n)}updateAdminShipMap(t,e,i){const n=(new o.c).set("date",e).set("value",i?"true":"false");return this.dataSource.sendRequest("PUT",this.serviceAdminUrl+"/updateMap/"+t,null,!0,n)}getAdminAgentShips(t=0){const e=(new o.c).set("page",t.toString());return this.dataSource.sendRequest("GET",this.serviceAdminAgentUrl,null,!0,e)}getServiceAdminShips(){return this.dataSource.sendRequest("GET",this.serviceServiceAdminUrl+"/myShips",null,!0,null)}getServiceAgentShips(){return this.dataSource.sendRequest("GET",this.serviceServiceAgentUrl+"/myShips",null,!0,null)}}return t.\u0275fac=function(e){return new(e||t)(b.Vb(n.a),b.Vb(c.b))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},P1i2:function(t,e,i){"use strict";i.r(e),i.d(e,"ROUTES",function(){return lt}),i.d(e,"SReportModule",function(){return ht});var n=i("tyNb"),o=i("MKLO"),b=i("mrSG"),c=i("sNvP"),s=i("fXoL"),r=i("ejDa"),a=i("1kSV"),d=i("3Pt+"),l=i("ofXK");function h(t,e){1&t&&(s.Ob(0,"div"),s.Kb(1,"app-loading"),s.Nb())}function p(t,e){1&t&&(s.Ob(0,"th"),s.yc(1,"Seat"),s.Nb())}function g(t,e){if(1&t&&(s.Ob(0,"span"),s.yc(1),s.Nb()),2&t){const t=e.$implicit;s.xb(1),s.Ac(" ",t," ")}}function u(t,e){if(1&t&&(s.Ob(0,"th"),s.wc(1,g,2,1,"span",29),s.Nb()),2&t){const t=s.ac().$implicit;s.xb(1),s.hc("ngForOf",t.seatNumbers)}}function N(t,e){if(1&t&&(s.Ob(0,"span"),s.yc(1),s.Nb()),2&t){const t=e.$implicit;s.xb(1),s.Ac("",t,", ")}}const y=function(t,e){return{"bg-success":t,"bg-warning":e}};function O(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.wc(3,u,2,1,"th",24),s.Ob(4,"td"),s.yc(5),s.Nb(),s.Ob(6,"td"),s.yc(7),s.bc(8,"date"),s.Nb(),s.Ob(9,"td"),s.yc(10),s.bc(11,"date"),s.Nb(),s.Ob(12,"td"),s.yc(13),s.Nb(),s.Ob(14,"td"),s.wc(15,N,2,1,"span",29),s.Nb(),s.Ob(16,"td"),s.yc(17),s.Nb(),s.Ob(18,"td"),s.yc(19),s.Nb(),s.Ob(20,"td"),s.yc(21),s.Nb(),s.Ob(22,"td"),s.yc(23),s.Nb(),s.Ob(24,"td",34),s.yc(25),s.Nb(),s.Nb()),2&t){const t=e.$implicit,i=e.index,n=s.ac(2);s.xb(2),s.zc(i+1),s.xb(1),s.hc("ngIf","Reservation"==n.reportType),s.xb(2),s.zc(t.bookingId),s.xb(2),s.zc(s.dc(8,16,t.bookingDate,"MMM d, y, h:mm:ss a")),s.xb(3),s.zc(s.cc(11,19,t.journeyDate)),s.xb(3),s.Bc("",t.customerName," - ",t.customerPhone,""),s.xb(2),s.hc("ngForOf",t.seatNumbers),s.xb(2),s.zc(t.price),s.xb(2),s.Bc("",t.shipNumber," - ",t.routes,""),s.xb(2),s.zc(t.soldBy),s.xb(2),s.zc(t.bookingStatus),s.xb(1),s.hc("ngClass",s.mc(21,y,t.paid,!t.paid&&t.bookingId)),s.xb(1),s.Bc(" ",t.paid?"Paid":""," ",!t.paid&&t.bookingId?"Unpaid":""," ")}}function m(t,e){1&t&&s.Kb(0,"td")}function v(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.Ob(3,"td"),s.yc(4),s.Nb(),s.Nb()),2&t){const t=e.$implicit;s.xb(2),s.zc(t.key),s.xb(2),s.zc(t.value)}}function f(t,e){if(1&t&&(s.Ob(0,"div"),s.Ob(1,"h3",27),s.yc(2),s.Nb(),s.Ob(3,"table",28),s.Ob(4,"thead"),s.Ob(5,"tr"),s.Ob(6,"th"),s.yc(7,"Sl."),s.Nb(),s.wc(8,p,2,0,"th",24),s.Ob(9,"th"),s.yc(10,"Ticket no."),s.Nb(),s.Ob(11,"th"),s.yc(12,"Booking Date"),s.Nb(),s.Ob(13,"th"),s.yc(14,"Journey Date"),s.Nb(),s.Ob(15,"th"),s.yc(16,"Passenger Info"),s.Nb(),s.Ob(17,"th"),s.yc(18,"Seats"),s.Nb(),s.Ob(19,"th"),s.yc(20,"Price"),s.Nb(),s.Ob(21,"th"),s.yc(22,"Route"),s.Nb(),s.Ob(23,"th"),s.yc(24,"Sold By"),s.Nb(),s.Ob(25,"th"),s.yc(26,"Status"),s.Nb(),s.Ob(27,"th"),s.yc(28,"Paid"),s.Nb(),s.Nb(),s.Nb(),s.Ob(29,"tbody"),s.wc(30,O,26,24,"tr",29),s.Nb(),s.Ob(31,"tfoot"),s.Ob(32,"tr"),s.Kb(33,"td"),s.wc(34,m,1,0,"td",24),s.Kb(35,"td"),s.Kb(36,"td"),s.Kb(37,"td"),s.Kb(38,"td"),s.Ob(39,"td"),s.yc(40,"TOTAL"),s.Nb(),s.Ob(41,"td"),s.yc(42),s.Nb(),s.Kb(43,"td"),s.Kb(44,"td"),s.Kb(45,"td"),s.Kb(46,"td"),s.Nb(),s.Nb(),s.Nb(),s.Ob(47,"div",3),s.Ob(48,"div",30),s.Ob(49,"table",28),s.Ob(50,"tr"),s.Ob(51,"th",31),s.yc(52),s.Nb(),s.Nb(),s.Ob(53,"tr"),s.Ob(54,"td"),s.yc(55,"Total Sold"),s.Nb(),s.Ob(56,"th"),s.yc(57),s.Nb(),s.Nb(),s.Ob(58,"tr"),s.Ob(59,"td"),s.yc(60,"Total Reserved"),s.Nb(),s.Ob(61,"th"),s.yc(62),s.Nb(),s.Nb(),s.Ob(63,"tr"),s.Ob(64,"td"),s.yc(65,"Total Unsold"),s.Nb(),s.Ob(66,"th",32),s.yc(67),s.Nb(),s.Nb(),s.Ob(68,"tr",33),s.Ob(69,"th"),s.yc(70,"Total"),s.Nb(),s.Ob(71,"th"),s.yc(72),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(73,"div",30),s.Ob(74,"table",28),s.Ob(75,"tr"),s.Ob(76,"th"),s.yc(77,"Agent Name"),s.Nb(),s.Ob(78,"th"),s.yc(79,"No of seat sold / Reserved"),s.Nb(),s.Nb(),s.wc(80,v,5,2,"tr",29),s.bc(81,"keyvalue"),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.ac();s.xb(2),s.Fc(" ",null==t.ship?null:t.ship.shipNumber,"-",t.ship.name," ",t.reportType," report for date of : ",t.dd.day,"-",t.dd.month,"-",t.dd.year," "),s.xb(6),s.hc("ngIf","Reservation"==t.reportType),s.xb(22),s.hc("ngForOf",t.serviceAdminSellsReportList),s.xb(4),s.hc("ngIf","Reservation"==t.reportType),s.xb(8),s.zc(t.total.totalrent),s.xb(10),s.Ac("",t.reportType," sum"),s.xb(5),s.zc(t.total.totalSold),s.xb(5),s.zc(t.total.totalReserved),s.xb(5),s.zc(t.total.totalUnsold),s.xb(5),s.zc(t.total.totalSold+t.total.totalReserved+t.total.totalUnsold),s.xb(8),s.hc("ngForOf",s.cc(81,16,t.soldBy))}}function S(t,e){1&t&&(s.Ob(0,"h4",27),s.Kb(1,"i",35),s.yc(2," No record yet"),s.Nb())}let x=(()=>{class t{constructor(t){this.reportService=t,this.loading=!1,this.reportType="Reservation",this.serviceAdminSellsReportList=[],this.soldBy=new Map}ngOnInit(){let t=new Date;this.dd={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}onShipSelect(t){this.ship=t,this.onLoad()}onTypeChange(){this.onLoad()}onDateChange(){this.onLoad()}onPrint(){window.print()}onLoad(){if(this.ship&&null!=this.ship.id)switch(this.reportType){case"Reservation":this.getServiceAdminReservationReportByShipId(this.ship.id,this.dd);break;case"Sells":this.getServiceAdminSellsReportByShipId(this.ship.id,this.dd)}}getServiceAdminReservationReportByShipId(t,{year:e,month:i,day:n}){return Object(b.a)(this,void 0,void 0,function*(){this.loading=!0;const o=`${e}-${i=i<10?"0"+i:i}-${n=n<10?"0"+n:n}`;try{this.serviceAdminSellsReportList=yield this.reportService.getServiceAdminShipReservation(t,o).toPromise(),this.calculateServiceAdminBookingReportList(),this.loading=!1}catch(b){console.log(b)}})}getServiceAdminSellsReportByShipId(t,{year:e,month:i,day:n}){return Object(b.a)(this,void 0,void 0,function*(){this.loading=!0;const o=`${e}-${i=i<10?"0"+i:i}-${n=n<10?"0"+n:n}`;try{this.serviceAdminSellsReportList=yield this.reportService.getServiceAdminShipSells(t,o).toPromise(),this.calculateServiceAdminBookingReportList(),this.loading=!1}catch(b){console.log(b)}})}calculateServiceAdminBookingReportList(){this.total={totalrent:0,totalAdvance:0,totalDue:0,totalSold:0,totalUnsold:0,totalReserved:0},this.soldBy=new Map,this.serviceAdminSellsReportList.forEach(t=>{if(this.total.totalrent+=t.price,t.seatNumbers){switch(t.bookingStatus){case"SEAT_SOLD":this.total.totalSold+=t.seatNumbers.length;break;case null:this.total.totalUnsold+=t.seatNumbers.length;break;case"SEAT_RESERVED":this.total.totalReserved+=t.seatNumbers.length}t.soldBy&&this.soldBy.set(t.soldBy,this.soldBy.get(t.soldBy)?this.soldBy.get(t.soldBy)+t.seatNumbers.length:t.seatNumbers.length)}})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-sells-report"]],decls:38,vars:5,consts:[[1,"container-fluid","d-print-none"],[1,"row","px-3","details-title","text-left"],[1,"container-fluid"],[1,"row"],[1,"col-md-2","d-print-none"],[3,"ship"],[1,"col-md-10"],[1,"row","d-print-none"],[1,"col-auto"],[1,"form-group","mb-0"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange","dateSelect","click"],["date","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"fa","fa-calendar"],[1,"input-group","mb-2"],["id","reportType",1,"form-control",3,"ngModel","ngModelChange","change"],["value","Sells"],["value","Reservation"],[1,"ml-auto","col-auto"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-print"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noRecord",""],[1,"text-center"],[1,"table","table-bordered","table-hover","table-responsive-sm"],[4,"ngFor","ngForOf"],[1,"col-md-6"],["colspan","2"],[1,"text-danger"],[1,"bg-light"],[3,"ngClass"],[1,"fa","fa-frown-o"]],template:function(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",0),s.Ob(1,"span",1),s.yc(2,"Report"),s.Nb(),s.Nb(),s.Ob(3,"div",2),s.Ob(4,"div",3),s.Ob(5,"div",4),s.Ob(6,"service-admin-ship-list",5),s.Yb("ship",function(t){return e.onShipSelect(t)}),s.Nb(),s.Nb(),s.Ob(7,"div",6),s.Ob(8,"div",7),s.Ob(9,"div",8),s.Ob(10,"div",9),s.Ob(11,"div",10),s.Ob(12,"div",11),s.Ob(13,"div",12),s.yc(14," Date : "),s.Nb(),s.Nb(),s.Ob(15,"input",13,14),s.Yb("ngModelChange",function(t){return e.dd=t})("dateSelect",function(){return e.onDateChange()})("click",function(){return s.qc(t),s.pc(16).toggle()}),s.Nb(),s.Ob(17,"div",15),s.Yb("click",function(){return s.qc(t),s.pc(16).toggle()}),s.Ob(18,"div",12),s.Kb(19,"i",16),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(20,"div",8),s.Ob(21,"div",17),s.Ob(22,"div",11),s.Ob(23,"div",12),s.yc(24,"Type"),s.Nb(),s.Nb(),s.Ob(25,"select",18),s.Yb("ngModelChange",function(t){return e.reportType=t})("change",function(){return e.onTypeChange()}),s.Ob(26,"option",19),s.yc(27," Sells "),s.Nb(),s.Ob(28,"option",20),s.yc(29," Reservation "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(30,"div",21),s.Ob(31,"button",22),s.Yb("click",function(){return e.onPrint()}),s.Kb(32,"i",23),s.yc(33," Print "),s.Nb(),s.Nb(),s.Nb(),s.wc(34,h,2,0,"div",24),s.wc(35,f,82,18,"div",25),s.wc(36,S,3,0,"ng-template",null,26,s.xc),s.Nb(),s.Nb(),s.Nb()}if(2&t){const t=s.pc(37);s.xb(15),s.hc("ngModel",e.dd),s.xb(10),s.hc("ngModel",e.reportType),s.xb(9),s.hc("ngIf",e.loading),s.xb(1),s.hc("ngIf",e.serviceAdminSellsReportList.length>0&&!e.loading)("ngIfElse",t)}},directives:[r.a,a.d,d.b,d.k,d.n,d.s,d.o,d.u,l.n,l.m,l.l],pipes:[l.h,l.e],styles:[""]}),t})();var D=i("B01t");function R(t,e){1&t&&(s.Ob(0,"div"),s.Kb(1,"app-loading"),s.Nb())}function A(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.Ob(3,"td"),s.yc(4),s.bc(5,"date"),s.Nb(),s.Ob(6,"td"),s.yc(7),s.Nb(),s.Ob(8,"td"),s.yc(9),s.Nb(),s.Ob(10,"td"),s.yc(11),s.Nb(),s.Ob(12,"td",29),s.yc(13),s.Nb(),s.Nb()),2&t){const t=e.$implicit,i=e.index;s.xb(2),s.zc(i+1),s.xb(2),s.zc(s.dc(5,6,t.date,"MMM d, y")),s.xb(3),s.zc(t.shipNumber),s.xb(2),s.zc(t.shipName),s.xb(2),s.zc(t.totalNumberOfSeat),s.xb(2),s.zc(t.totalFare)}}function w(t,e){if(1&t&&(s.Ob(0,"div"),s.Ob(1,"h3",26),s.yc(2),s.bc(3,"date"),s.bc(4,"date"),s.Nb(),s.Ob(5,"table",27),s.Ob(6,"thead"),s.Ob(7,"tr"),s.Ob(8,"th"),s.yc(9,"Sl."),s.Nb(),s.Ob(10,"th"),s.yc(11,"Date"),s.Nb(),s.Ob(12,"th"),s.yc(13,"Ship Number"),s.Nb(),s.Ob(14,"th"),s.yc(15,"Ship Name"),s.Nb(),s.Ob(16,"th"),s.yc(17,"Total Number Of Seat"),s.Nb(),s.Ob(18,"th"),s.yc(19,"Total Fare"),s.Nb(),s.Nb(),s.Nb(),s.Ob(20,"tbody"),s.wc(21,A,14,9,"tr",28),s.Nb(),s.Ob(22,"tfoot"),s.Ob(23,"tr"),s.Kb(24,"td"),s.Kb(25,"td"),s.Kb(26,"td"),s.Kb(27,"td"),s.Ob(28,"th",29),s.yc(29,"TOTAL"),s.Nb(),s.Ob(30,"td",29),s.yc(31),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.ac();s.xb(2),s.Cc(" ",t.reportType," report for date of : ",s.dc(3,5,t.daterange.checkinDate," d MMM y")," to ",s.dc(4,8,t.daterange.checkoutDate," d MMM y")," "),s.xb(19),s.hc("ngForOf",t.serviceAdminSellsReportRangeList),s.xb(10),s.zc(t.total)}}function k(t,e){1&t&&(s.Ob(0,"h4",26),s.Kb(1,"i",30),s.yc(2," No record yet"),s.Nb())}const B=function(t,e){return{"btn-primary":t,"btn-light":e}};let T=(()=>{class t{constructor(t){this.reportService=t,this.loading=!1,this.daterange={},this.reportType="Sell",this.serviceAdminSellsReportRangeList=[]}ngOnInit(){this.setDateRanges()}onPrint(){window.print()}setDateRanges(){this.daterange.checkoutDate=new Date,this.daterange.checkinDate=new Date;const t=new Date;t.setDate(this.daterange.checkinDate.getDate()-90);const e=new Date;e.setDate(this.daterange.checkinDate.getDate()+12),this.daterange.checkinDate.setDate(this.daterange.checkinDate.getDate()-10),this.options={autoApply:!0,locale:{format:"DD MMM,YY"},minDate:t,maxDate:e,startDate:this.daterange.checkinDate,endDate:this.daterange.checkoutDate,alwaysShowCalendars:!1}}selectedDate(t){this.daterange.checkinDate=t.start._d,this.daterange.checkoutDate=t.end._d,this.daterange.label=t.label,this.ship&&this.onReportTypeChange(this.ship.id,this.reportType)}onShipSelect(t){this.ship=t,this.onReportTypeChange(t.id,this.reportType)}onReportTypeChange(t,e){switch(this.reportType=e,this.reportType){case"Sell":this.getServiceAdminShipSellsRange(t,this.daterange.checkinDate,this.daterange.checkoutDate);break;case"Reserve":this.getServiceAdminReservationReportRange(t,this.daterange.checkinDate,this.daterange.checkoutDate)}}getServiceAdminReservationReportRange(t,e,i){return Object(b.a)(this,void 0,void 0,function*(){const n=this.getDateString(e),o=this.getDateString(i);this.loading=!0;try{this.serviceAdminSellsReportRangeList=yield this.reportService.getServiceAdminShipReservationRange(t,n,o).toPromise(),this.calculateServiceAdminBookingReportList(),this.loading=!1}catch(b){console.log(b)}})}getServiceAdminShipSellsRange(t,e,i){return Object(b.a)(this,void 0,void 0,function*(){let n=this.getDateString(e),o=this.getDateString(i);this.loading=!0;try{this.serviceAdminSellsReportRangeList=yield this.reportService.getServiceAdminShipSellsRange(t,n,o).toPromise(),this.calculateServiceAdminBookingReportList(),this.loading=!1}catch(b){console.log(b)}})}calculateServiceAdminBookingReportList(){this.total=0,this.serviceAdminSellsReportRangeList.forEach(t=>{this.total+=t.totalFare})}getDateString(t){const e=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+"-"+e+"-"+i}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-sells-report-range"]],decls:32,vars:12,consts:[[1,"container-fluid","d-print-none"],[1,"row","px-3","details-title","text-left"],[1,"container-fluid"],[1,"row"],[1,"col-md-2","d-print-none"],[3,"ship"],[1,"col-md-10"],[1,"row","d-print-none"],[1,"col-auto","mb-2"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-calendar"],["type","text","name","daterangeInput","daterangepicker","",1,"form-control",3,"options","selected"],["data-toggle","buttons",1,"btn-group","btn-group-toggle","border"],[1,"btn",3,"ngClass"],["type","radio","value","Sell","name","mode","id","mode_sell","autocomplete","off",3,"click"],[1,"btn","btn-primary",3,"ngClass"],["type","radio","value","Reserve","name","mode","id","mode_reservation","autocomplete","off",3,"click"],[1,"ml-auto","col-auto"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-print"],[1,"col-12"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noRecord",""],[1,"text-center"],[1,"table","table-bordered","table-hover","table-responsive-sm"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"fa","fa-frown-o"]],template:function(t,e){if(1&t&&(s.Ob(0,"div",0),s.Ob(1,"span",1),s.yc(2,"Report range"),s.Nb(),s.Nb(),s.Ob(3,"div",2),s.Ob(4,"div",3),s.Ob(5,"div",4),s.Ob(6,"service-admin-ship-list",5),s.Yb("ship",function(t){return e.onShipSelect(t)}),s.Nb(),s.Nb(),s.Ob(7,"div",6),s.Ob(8,"div",7),s.Ob(9,"div",8),s.Ob(10,"div",9),s.Ob(11,"div",10),s.Ob(12,"div",11),s.Kb(13,"i",12),s.Nb(),s.Nb(),s.Ob(14,"input",13),s.Yb("selected",function(t){return e.selectedDate(t)}),s.Nb(),s.Nb(),s.Nb(),s.Ob(15,"div",14),s.Ob(16,"label",15),s.Ob(17,"input",16),s.Yb("click",function(){return e.onReportTypeChange(e.ship.id,"Sell")}),s.Nb(),s.yc(18," Sell "),s.Nb(),s.Ob(19,"label",17),s.Ob(20,"input",18),s.Yb("click",function(){return e.onReportTypeChange(e.ship.id,"Reserve")}),s.Nb(),s.yc(21," Reserve "),s.Nb(),s.Nb(),s.Ob(22,"div",19),s.Ob(23,"button",20),s.Yb("click",function(){return e.onPrint()}),s.Kb(24,"i",21),s.yc(25," Print "),s.Nb(),s.Nb(),s.Nb(),s.Ob(26,"div",3),s.Ob(27,"div",22),s.wc(28,R,2,0,"div",23),s.wc(29,w,32,11,"div",24),s.wc(30,k,3,0,"ng-template",null,25,s.xc),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.pc(31);s.xb(14),s.hc("options",e.options),s.xb(2),s.hc("ngClass",s.mc(6,B,"Sell"==e.reportType,"Sell"!=e.reportType)),s.xb(3),s.hc("ngClass",s.mc(9,B,"Reserve"==e.reportType,"Reserve"!=e.reportType)),s.xb(9),s.hc("ngIf",e.loading),s.xb(1),s.hc("ngIf",e.serviceAdminSellsReportRangeList.length>0&&!e.loading)("ngIfElse",t)}},directives:[r.a,D.b,l.l,l.n,l.m],pipes:[l.e],styles:[""]}),t})();function C(t,e){1&t&&(s.Ob(0,"div"),s.Kb(1,"app-loading"),s.Nb())}function I(t,e){if(1&t&&(s.Ob(0,"span"),s.yc(1),s.Nb()),2&t){const t=e.$implicit;s.xb(1),s.Ac("",t,", ")}}const M=function(t,e){return{"bg-success":t,"bg-warning":e}};function L(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.Ob(3,"td"),s.yc(4),s.Nb(),s.Ob(5,"td"),s.yc(6),s.bc(7,"date"),s.Nb(),s.Ob(8,"td"),s.yc(9),s.bc(10,"date"),s.Nb(),s.Ob(11,"td"),s.yc(12),s.Nb(),s.Ob(13,"td"),s.wc(14,I,2,1,"span",25),s.Nb(),s.Ob(15,"td"),s.yc(16),s.Nb(),s.Ob(17,"td"),s.yc(18),s.Nb(),s.Ob(19,"td"),s.yc(20),s.Nb(),s.Ob(21,"td"),s.yc(22),s.Nb(),s.Ob(23,"td"),s.yc(24),s.Nb(),s.Ob(25,"td",31),s.yc(26),s.Nb(),s.Nb()),2&t){const t=e.$implicit,i=e.index;s.xb(2),s.zc(i+1),s.xb(2),s.zc(t.bookingId),s.xb(2),s.zc(s.dc(7,16,t.bookingDate,"MMM d, y, h:mm:ss a")),s.xb(3),s.zc(s.cc(10,19,t.journeyDate)),s.xb(3),s.Bc("",t.customerName," - ",t.customerPhone,""),s.xb(2),s.hc("ngForOf",t.seatNumbers),s.xb(2),s.zc(t.seatNumbers.length),s.xb(2),s.zc(t.price),s.xb(2),s.Bc("",t.shipNumber," - ",t.routes,""),s.xb(2),s.zc(t.soldBy),s.xb(2),s.zc(t.bookingStatus),s.xb(1),s.hc("ngClass",s.mc(21,M,t.paid,!t.paid&&t.bookingId)),s.xb(1),s.Bc(" ",t.paid?"Paid":""," ",!t.paid&&t.bookingId?"Unpaid":""," ")}}function z(t,e){1&t&&s.Kb(0,"td")}function K(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.Ob(3,"td"),s.yc(4),s.Nb(),s.Nb()),2&t){const t=e.$implicit;s.xb(2),s.zc(t.key),s.xb(2),s.zc(t.value)}}function P(t,e){if(1&t&&(s.Ob(0,"div"),s.Ob(1,"h3",23),s.yc(2),s.Nb(),s.Ob(3,"table",24),s.Ob(4,"thead"),s.Ob(5,"tr"),s.Ob(6,"th"),s.yc(7,"Sl."),s.Nb(),s.Ob(8,"th"),s.yc(9,"Ticket no."),s.Nb(),s.Ob(10,"th"),s.yc(11,"Issue Date"),s.Nb(),s.Ob(12,"th"),s.yc(13,"Journey Date"),s.Nb(),s.Ob(14,"th"),s.yc(15,"Passenger Info"),s.Nb(),s.Ob(16,"th"),s.yc(17,"Seats"),s.Nb(),s.Ob(18,"th"),s.yc(19,"Total Seat"),s.Nb(),s.Ob(20,"th"),s.yc(21,"Price"),s.Nb(),s.Ob(22,"th"),s.yc(23,"Route"),s.Nb(),s.Ob(24,"th"),s.yc(25,"Sold By"),s.Nb(),s.Ob(26,"th"),s.yc(27,"Status"),s.Nb(),s.Ob(28,"th"),s.yc(29,"Paid"),s.Nb(),s.Nb(),s.Nb(),s.Ob(30,"tbody"),s.wc(31,L,27,24,"tr",25),s.Nb(),s.Ob(32,"tfoot"),s.Ob(33,"tr"),s.Kb(34,"td"),s.wc(35,z,1,0,"td",20),s.Kb(36,"td"),s.Kb(37,"td"),s.Kb(38,"td"),s.Kb(39,"td"),s.Kb(40,"td"),s.Ob(41,"td"),s.yc(42,"TOTAL"),s.Nb(),s.Ob(43,"td"),s.yc(44),s.Nb(),s.Kb(45,"td"),s.Kb(46,"td"),s.Kb(47,"td"),s.Kb(48,"td"),s.Nb(),s.Nb(),s.Nb(),s.Ob(49,"div",3),s.Ob(50,"div",26),s.Ob(51,"table",27),s.Ob(52,"tr"),s.Ob(53,"th",28),s.yc(54,"Reservation Sum"),s.Nb(),s.Nb(),s.Ob(55,"tr"),s.Ob(56,"td"),s.yc(57,"Total Sold"),s.Nb(),s.Ob(58,"th"),s.yc(59),s.Nb(),s.Nb(),s.Ob(60,"tr"),s.Ob(61,"td"),s.yc(62,"Total Reserved"),s.Nb(),s.Ob(63,"th"),s.yc(64),s.Nb(),s.Nb(),s.Ob(65,"tr"),s.Ob(66,"td"),s.yc(67,"Total Unsold"),s.Nb(),s.Ob(68,"th",29),s.yc(69),s.Nb(),s.Nb(),s.Ob(70,"tr",30),s.Ob(71,"th"),s.yc(72,"Total"),s.Nb(),s.Ob(73,"th"),s.yc(74),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(75,"div",26),s.Ob(76,"table",27),s.Ob(77,"tr"),s.Ob(78,"th"),s.yc(79,"Agent Name"),s.Nb(),s.Ob(80,"th"),s.yc(81,"No of seat sold / Reserved"),s.Nb(),s.Nb(),s.wc(82,K,5,2,"tr",25),s.bc(83,"keyvalue"),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.ac();s.xb(2),s.Fc(" ",null==t.ship?null:t.ship.shipNumber,"-",t.ship.name," ",t.reportType," report for date of : ",t.dd.day,"-",t.dd.month,"-",t.dd.year," "),s.xb(29),s.hc("ngForOf",t.sumReportList),s.xb(4),s.hc("ngIf","Reservation"==t.reportType),s.xb(9),s.zc(t.total.totalrent),s.xb(15),s.zc(t.total.totalSold),s.xb(5),s.zc(t.total.totalReserved),s.xb(5),s.zc(t.total.totalUnsold),s.xb(5),s.zc(t.total.totalSold+t.total.totalReserved+t.total.totalUnsold),s.xb(8),s.hc("ngForOf",s.cc(83,14,t.soldBy))}}function F(t,e){1&t&&(s.Ob(0,"h4",23),s.Kb(1,"i",32),s.yc(2," No record yet"),s.Nb())}let E=(()=>{class t{constructor(t){this.reportService=t,this.loading=!1,this.reportList=[],this.sumReportList=[],this.soldBy=new Map}ngOnInit(){let t=new Date;this.dd={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}onShipSelect(t){this.ship=t,this.onDateChange()}onDateChange(){this.getServiceAdminReservationReportByShipId(this.ship.id,this.dd)}getServiceAdminReservationReportByShipId(t,{year:e,month:i,day:n}){return Object(b.a)(this,void 0,void 0,function*(){this.loading=!0;const o=`${e}-${i=i<10?"0"+i:i}-${n=n<10?"0"+n:n}`;try{this.reportList=yield this.reportService.getServiceAdminShipReservation(t,o).toPromise(),this.calculateServiceAdminBookingReportList(),this.loading=!1}catch(b){console.log(b)}})}calculateServiceAdminBookingReportList(){this.total={totalrent:0,totalAdvance:0,totalDue:0,totalSold:0,totalUnsold:0,totalReserved:0},this.soldBy=new Map,this.sumReportList=[],this.reportList.forEach(t=>{const e=this.sumReportList.find(e=>e.bookingId==t.bookingId);if(e&&e.bookingId?(t.seatNumbers.forEach(t=>{e.seatNumbers.push(t)}),this.sumReportList.splice(this.sumReportList.findIndex(e=>e.bookingId==t.bookingId),1,e)):null!=t.bookingId&&this.sumReportList.push(t),this.total.totalrent+=t.price,t.seatNumbers){switch(t.bookingStatus){case"SEAT_SOLD":this.total.totalSold+=t.seatNumbers.length;break;case null:this.total.totalUnsold+=t.seatNumbers.length;break;case"SEAT_RESERVED":this.total.totalReserved+=t.seatNumbers.length}t.soldBy&&this.soldBy.set(t.soldBy,this.soldBy.get(t.soldBy)?this.soldBy.get(t.soldBy)+t.seatNumbers.length:t.seatNumbers.length)}})}onPrint(){window.print()}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-counter-report"]],decls:28,vars:4,consts:[[1,"container-fluid","d-print-none"],[1,"row","px-3","details-title","text-left"],[1,"container-fluid"],[1,"row"],[1,"col-md-2","d-print-none"],[3,"ship"],[1,"col-md-10"],[1,"row","d-print-none"],[1,"col-auto"],[1,"form-group","mb-0"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange","dateSelect","click"],["date","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"fa","fa-calendar"],[1,"ml-auto","col-auto"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-print"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noRecord",""],[1,"text-center"],[1,"table","table-bordered","table-hover","table-responsive-sm","font-weight-light",2,"font-size","8px"],[4,"ngFor","ngForOf"],[1,"col-md-6","col-6"],[1,"table","table-bordered","table-hover","table-responsive-sm"],["colspan","2"],[1,"text-danger"],[1,"bg-light"],[3,"ngClass"],[1,"fa","fa-frown-o"]],template:function(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",0),s.Ob(1,"span",1),s.yc(2,"Counter Report"),s.Nb(),s.Nb(),s.Ob(3,"div",2),s.Ob(4,"div",3),s.Ob(5,"div",4),s.Ob(6,"service-admin-ship-list",5),s.Yb("ship",function(t){return e.onShipSelect(t)}),s.Nb(),s.Nb(),s.Ob(7,"div",6),s.Ob(8,"div",7),s.Ob(9,"div",8),s.Ob(10,"div",9),s.Ob(11,"div",10),s.Ob(12,"div",11),s.Ob(13,"div",12),s.yc(14," Date : "),s.Nb(),s.Nb(),s.Ob(15,"input",13,14),s.Yb("ngModelChange",function(t){return e.dd=t})("dateSelect",function(){return e.onDateChange()})("click",function(){return s.qc(t),s.pc(16).toggle()}),s.Nb(),s.Ob(17,"div",15),s.Yb("click",function(){return s.qc(t),s.pc(16).toggle()}),s.Ob(18,"div",12),s.Kb(19,"i",16),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(20,"div",17),s.Ob(21,"button",18),s.Yb("click",function(){return e.onPrint()}),s.Kb(22,"i",19),s.yc(23," Print "),s.Nb(),s.Nb(),s.Nb(),s.wc(24,C,2,0,"div",20),s.wc(25,P,84,16,"div",21),s.wc(26,F,3,0,"ng-template",null,22,s.xc),s.Nb(),s.Nb(),s.Nb()}if(2&t){const t=s.pc(27);s.xb(15),s.hc("ngModel",e.dd),s.xb(9),s.hc("ngIf",e.loading),s.xb(1),s.hc("ngIf",e.reportList.length>0&&!e.loading)("ngIfElse",t)}},directives:[r.a,a.d,d.b,d.k,d.n,l.n,l.m,l.l],pipes:[l.h,l.e],styles:[""]}),t})();function U(t,e){1&t&&(s.Ob(0,"div"),s.Kb(1,"app-loading"),s.Nb())}function Y(t,e){1&t&&(s.Ob(0,"th"),s.yc(1,"Seat"),s.Nb())}function $(t,e){if(1&t&&(s.Ob(0,"span"),s.yc(1),s.Nb()),2&t){const t=e.$implicit;s.xb(1),s.Ac(" ",t," ")}}function j(t,e){if(1&t&&(s.Ob(0,"th"),s.wc(1,$,2,1,"span",25),s.Nb()),2&t){const t=s.ac().$implicit;s.xb(1),s.hc("ngForOf",t.seatNumbers)}}function q(t,e){if(1&t&&(s.Ob(0,"span"),s.yc(1),s.Nb()),2&t){const t=e.$implicit;s.xb(1),s.Ac("",t,", ")}}const J=function(t,e){return{"bg-success":t,"bg-warning":e}};function _(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.wc(3,j,2,1,"th",20),s.Ob(4,"td"),s.yc(5),s.Nb(),s.Ob(6,"td"),s.yc(7),s.bc(8,"date"),s.Nb(),s.Ob(9,"td"),s.yc(10),s.bc(11,"date"),s.Nb(),s.Ob(12,"td"),s.yc(13),s.Nb(),s.Ob(14,"td"),s.wc(15,q,2,1,"span",25),s.Nb(),s.Ob(16,"td"),s.yc(17),s.Nb(),s.Ob(18,"td"),s.yc(19),s.Nb(),s.Ob(20,"td"),s.yc(21),s.Nb(),s.Ob(22,"td"),s.yc(23),s.Nb(),s.Ob(24,"td",30),s.yc(25),s.Nb(),s.Nb()),2&t){const t=e.$implicit,i=e.index,n=s.ac(2);s.xb(2),s.zc(i+1),s.xb(1),s.hc("ngIf","Reservation"==n.reportType),s.xb(2),s.zc(t.bookingId),s.xb(2),s.zc(s.dc(8,15,t.bookingDate,"MMM d, y, h:mm:ss a")),s.xb(3),s.zc(s.cc(11,18,t.journeyDate)),s.xb(3),s.Bc("",t.customerName," - ",t.customerPhone,""),s.xb(2),s.hc("ngForOf",t.seatNumbers),s.xb(2),s.zc(t.price),s.xb(2),s.zc(t.soldBy),s.xb(2),s.zc(t.bookingStatus),s.xb(2),s.zc(1==t.duplicate?"DUPLICATE":""),s.xb(1),s.hc("ngClass",s.mc(20,J,t.paid,!t.paid&&t.bookingId)),s.xb(1),s.Bc(" ",t.paid?"Paid":""," ",!t.paid&&t.bookingId?"Unpaid":""," ")}}function G(t,e){1&t&&s.Kb(0,"td")}function H(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.Ob(3,"td"),s.yc(4),s.Nb(),s.Nb()),2&t){const t=e.$implicit;s.xb(2),s.zc(t.key),s.xb(2),s.zc(t.value)}}function V(t,e){if(1&t&&(s.Ob(0,"div"),s.Ob(1,"h3",23),s.yc(2),s.Nb(),s.Ob(3,"table",24),s.Ob(4,"thead"),s.Ob(5,"tr"),s.Ob(6,"th"),s.yc(7,"Sl."),s.Nb(),s.wc(8,Y,2,0,"th",20),s.Ob(9,"th"),s.yc(10,"Ticket no."),s.Nb(),s.Ob(11,"th"),s.yc(12,"Booking Date"),s.Nb(),s.Ob(13,"th"),s.yc(14,"Journey Date"),s.Nb(),s.Ob(15,"th"),s.yc(16,"Passenger Info"),s.Nb(),s.Ob(17,"th"),s.yc(18,"Seats"),s.Nb(),s.Ob(19,"th"),s.yc(20,"Price"),s.Nb(),s.Ob(21,"th"),s.yc(22,"Sold By"),s.Nb(),s.Ob(23,"th"),s.yc(24,"Status"),s.Nb(),s.Ob(25,"th"),s.yc(26,"Duplicate"),s.Nb(),s.Ob(27,"th"),s.yc(28,"Paid"),s.Nb(),s.Nb(),s.Nb(),s.Ob(29,"tbody"),s.wc(30,_,26,23,"tr",25),s.Nb(),s.Ob(31,"tfoot"),s.Ob(32,"tr"),s.Kb(33,"td"),s.wc(34,G,1,0,"td",20),s.Kb(35,"td"),s.Kb(36,"td"),s.Kb(37,"td"),s.Kb(38,"td"),s.Ob(39,"td"),s.yc(40,"TOTAL"),s.Nb(),s.Ob(41,"td"),s.yc(42),s.Nb(),s.Kb(43,"td"),s.Kb(44,"td"),s.Kb(45,"td"),s.Kb(46,"td"),s.Nb(),s.Nb(),s.Nb(),s.Ob(47,"div",3),s.Ob(48,"div",26),s.Ob(49,"table",24),s.Ob(50,"tr"),s.Ob(51,"th",27),s.yc(52),s.Nb(),s.Nb(),s.Ob(53,"tr"),s.Ob(54,"td"),s.yc(55,"Total Sold"),s.Nb(),s.Ob(56,"th"),s.yc(57),s.Nb(),s.Nb(),s.Ob(58,"tr"),s.Ob(59,"td"),s.yc(60,"Total Reserved"),s.Nb(),s.Ob(61,"th"),s.yc(62),s.Nb(),s.Nb(),s.Ob(63,"tr"),s.Ob(64,"td"),s.yc(65,"Total Unsold"),s.Nb(),s.Ob(66,"th",28),s.yc(67),s.Nb(),s.Nb(),s.Ob(68,"tr"),s.Ob(69,"td"),s.yc(70,"Total Duplicate"),s.Nb(),s.Ob(71,"th",28),s.yc(72),s.Nb(),s.Nb(),s.Ob(73,"tr",29),s.Ob(74,"th"),s.yc(75,"Total"),s.Nb(),s.Ob(76,"th"),s.yc(77),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(78,"div",26),s.Ob(79,"table",24),s.Ob(80,"tr"),s.Ob(81,"th"),s.yc(82,"Agent Name"),s.Nb(),s.Ob(83,"th"),s.yc(84,"No of seat sold / Reserved"),s.Nb(),s.Nb(),s.wc(85,H,5,2,"tr",25),s.bc(86,"keyvalue"),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.ac();s.xb(2),s.Fc(" ",null==t.ship?null:t.ship.shipNumber,"-",t.ship.name," ",t.reportType," report for date of : ",t.dd.day,"-",t.dd.month,"-",t.dd.year," "),s.xb(6),s.hc("ngIf","Reservation"==t.reportType),s.xb(22),s.hc("ngForOf",t.serviceAdminSellsReportList),s.xb(4),s.hc("ngIf","Reservation"==t.reportType),s.xb(8),s.zc(t.total.totalrent),s.xb(10),s.Ac("",t.reportType," sum"),s.xb(5),s.zc(t.total.totalSold),s.xb(5),s.zc(t.total.totalReserved),s.xb(5),s.zc(t.total.totalUnsold),s.xb(5),s.zc(t.total.totalDuplicate),s.xb(5),s.zc(t.total.totalSold+t.total.totalReserved+t.total.totalUnsold),s.xb(8),s.hc("ngForOf",s.cc(86,17,t.soldBy))}}function X(t,e){1&t&&(s.Ob(0,"h4",23),s.Kb(1,"i",31),s.yc(2," No record yet"),s.Nb())}let W=(()=>{class t{constructor(t){this.reportService=t,this.serviceAdminSellsReportList=[],this.soldBy=new Map,this.loading=!1}ngOnInit(){let t=new Date;this.dd={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}getServiceAdminBooking(t,{year:e,month:i,day:n}){return Object(b.a)(this,void 0,void 0,function*(){this.loading=!0;const o=`${e}-${i=i<10?"0"+i:i}-${n=n<10?"0"+n:n}`;try{this.serviceAdminSellsReportList=yield this.reportService.getServiceAdminBooking(t,o).toPromise(),this.calculateServiceAdminBookingReportList(),this.loading=!1}catch(b){console.log(b)}})}onShipSelect(t){this.ship=t,this.getServiceAdminBooking(t.id,this.dd)}onDateChange(){this.getServiceAdminBooking(this.ship.id,this.dd)}onPrint(){window.print()}calculateServiceAdminBookingReportList(){this.total={totalrent:0,totalAdvance:0,totalDue:0,totalSold:0,totalUnsold:0,totalReserved:0,totalDuplicate:0},this.soldBy=new Map;let t=[];this.serviceAdminSellsReportList.forEach(e=>{if(this.total.totalrent+=e.price,e.seatNumbers.forEach(i=>{t.includes(i)?(e.duplicate=!0,this.total.totalDuplicate+=1):t.push(i)}),e.seatNumbers){switch(e.bookingStatus){case"SEAT_SOLD":this.total.totalSold+=e.seatNumbers.length;break;case null:this.total.totalUnsold+=e.seatNumbers.length;break;case"SEAT_RESERVED":this.total.totalReserved+=e.seatNumbers.length}e.soldBy&&this.soldBy.set(e.soldBy,this.soldBy.get(e.soldBy)?this.soldBy.get(e.soldBy)+e.seatNumbers.length:e.seatNumbers.length)}}),this.serviceAdminSellsReportList.sort((t,e)=>t.seatNumbers[0].localeCompare(e.seatNumbers[0]))}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-booking-report-list"]],decls:29,vars:4,consts:[[1,"container-fluid","d-print-none"],[1,"row","px-3","details-title","text-left"],[1,"container-fluid"],[1,"row"],[1,"col-md-2","d-print-none"],[3,"ship"],[1,"col-md-10"],[1,"row","d-print-none"],[1,"col-auto"],[1,"form-group","mb-0"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange","dateSelect","click"],["date","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"fa","fa-calendar"],[1,"ml-auto","col-auto"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-print"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noRecord",""],[1,"text-center"],[1,"table","table-bordered","table-hover","table-responsive-sm"],[4,"ngFor","ngForOf"],[1,"col-md-6"],["colspan","2"],[1,"text-danger"],[1,"bg-light"],[3,"ngClass"],[1,"fa","fa-frown-o"]],template:function(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",0),s.Ob(1,"span",1),s.yc(2,"Booking Report"),s.Nb(),s.Nb(),s.Ob(3,"div",2),s.Ob(4,"div",3),s.Ob(5,"div",4),s.Ob(6,"service-admin-ship-list",5),s.Yb("ship",function(t){return e.onShipSelect(t)}),s.Nb(),s.Nb(),s.Ob(7,"div",6),s.Ob(8,"div",7),s.Ob(9,"div",8),s.Ob(10,"div",9),s.Ob(11,"div",10),s.Ob(12,"div",11),s.Ob(13,"div",12),s.yc(14," Date : "),s.Nb(),s.Nb(),s.Ob(15,"input",13,14),s.Yb("ngModelChange",function(t){return e.dd=t})("dateSelect",function(){return e.onDateChange()})("click",function(){return s.qc(t),s.pc(16).toggle()}),s.Nb(),s.Ob(17,"div",15),s.Yb("click",function(){return s.qc(t),s.pc(16).toggle()}),s.Ob(18,"div",12),s.Kb(19,"i",16),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(20,"div",8),s.Ob(21,"div",17),s.Ob(22,"button",18),s.Yb("click",function(){return e.onPrint()}),s.Kb(23,"i",19),s.yc(24," Print "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.wc(25,U,2,0,"div",20),s.wc(26,V,87,19,"div",21),s.wc(27,X,3,0,"ng-template",null,22,s.xc),s.Nb(),s.Nb(),s.Nb()}if(2&t){const t=s.pc(28);s.xb(15),s.hc("ngModel",e.dd),s.xb(10),s.hc("ngIf",e.loading),s.xb(1),s.hc("ngIf",e.serviceAdminSellsReportList.length>0&&!e.loading)("ngIfElse",t)}},directives:[r.a,a.d,d.b,d.k,d.n,l.n,l.m,l.l],pipes:[l.h,l.e],styles:[""]}),t})();var Q=i("/7iW"),Z=i("z3bE"),tt=i("HymT");function et(t,e){if(1&t&&(s.Ob(0,"option",28),s.yc(1),s.Nb()),2&t){const t=e.$implicit;s.hc("value",t.id),s.xb(1),s.Bc(" ",t.name,"[",t.phoneNumber,"] ")}}function it(t,e){if(1&t&&(s.Ob(0,"option",28),s.yc(1),s.Nb()),2&t){const t=e.$implicit;s.hc("value",t.id),s.xb(1),s.Bc(" ",t.shipNumber,"-",t.name," ")}}function nt(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",29),s.Ob(1,"button",30),s.Yb("click",function(){return s.qc(t),s.ac().onSearch()}),s.yc(2,"Search"),s.Nb(),s.Nb()}}function ot(t,e){1&t&&s.Kb(0,"app-loading")}function bt(t,e){if(1&t&&(s.Ob(0,"span"),s.yc(1),s.Nb()),2&t){const t=e.$implicit;s.xb(1),s.Ac("",t,", ")}}function ct(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.Ob(3,"td"),s.yc(4),s.Nb(),s.Ob(5,"td"),s.yc(6),s.bc(7,"date"),s.Nb(),s.Ob(8,"td"),s.yc(9),s.bc(10,"date"),s.Nb(),s.Ob(11,"td"),s.yc(12),s.Nb(),s.Ob(13,"td"),s.wc(14,bt,2,1,"span",35),s.Nb(),s.Ob(15,"td"),s.yc(16),s.Nb(),s.Ob(17,"td"),s.yc(18),s.Nb(),s.Ob(19,"td"),s.yc(20),s.Nb(),s.Ob(21,"td"),s.yc(22),s.Nb(),s.Ob(23,"td"),s.yc(24),s.Nb(),s.Nb()),2&t){const t=e.$implicit,i=e.index;s.xb(2),s.zc(i+1),s.xb(2),s.zc(t.bookingId),s.xb(2),s.zc(s.dc(7,12,t.bookingDate,"MMM d, y, h:mm:ss a")),s.xb(3),s.zc(s.cc(10,15,t.journeyDate)),s.xb(3),s.Bc("",t.customerName," - ",t.customerPhone,""),s.xb(2),s.hc("ngForOf",t.seatNumbers),s.xb(2),s.zc(t.price),s.xb(2),s.Ac("",t.hotelswaveCommission+t.hotelswaveAgentCommission+t.shipAgentCommission," "),s.xb(2),s.zc(t.shipNumber),s.xb(2),s.zc(t.soldBy),s.xb(2),s.zc(t.bookingStatus)}}function st(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.Nb(),s.Ob(3,"td"),s.yc(4),s.Nb(),s.Ob(5,"td"),s.yc(6),s.Nb(),s.Ob(7,"td"),s.yc(8),s.Nb(),s.Ob(9,"td"),s.yc(10),s.Nb(),s.Nb()),2&t){const t=e.$implicit;s.xb(2),s.zc(t.key),s.xb(2),s.zc(t.value.totalSeatNumber),s.xb(2),s.zc(t.value.hotelswaveCommission),s.xb(2),s.zc(t.value.hotelswaveAgentCommission),s.xb(2),s.zc(t.value.shipAgentCommission)}}function rt(t,e){if(1&t&&(s.Ob(0,"div",31),s.Ob(1,"div",32),s.Ob(2,"h4",33),s.yc(3),s.bc(4,"date"),s.bc(5,"date"),s.Nb(),s.Nb(),s.Ob(6,"table",34),s.Ob(7,"thead"),s.Ob(8,"tr"),s.Ob(9,"th"),s.yc(10,"Sl."),s.Nb(),s.Ob(11,"th"),s.yc(12,"Ticket no."),s.Nb(),s.Ob(13,"th"),s.yc(14,"Sells Date"),s.Nb(),s.Ob(15,"th"),s.yc(16,"Journey Date"),s.Nb(),s.Ob(17,"th"),s.yc(18,"Passenger Info"),s.Nb(),s.Ob(19,"th"),s.yc(20,"Seats"),s.Nb(),s.Ob(21,"th"),s.yc(22,"Price"),s.Nb(),s.Ob(23,"th"),s.yc(24,"Commission"),s.Nb(),s.Ob(25,"th"),s.yc(26,"Route"),s.Nb(),s.Ob(27,"th"),s.yc(28,"Sold By"),s.Nb(),s.Ob(29,"th"),s.yc(30,"Status"),s.Nb(),s.Nb(),s.Nb(),s.Ob(31,"tbody"),s.wc(32,ct,25,17,"tr",35),s.Nb(),s.Ob(33,"tfoot"),s.Ob(34,"tr"),s.Kb(35,"td"),s.Kb(36,"td"),s.Kb(37,"td"),s.Kb(38,"td"),s.Kb(39,"td"),s.Ob(40,"td"),s.yc(41,"TOTAL"),s.Nb(),s.Ob(42,"td"),s.Ob(43,"strong"),s.yc(44),s.Nb(),s.Nb(),s.Ob(45,"td"),s.Ob(46,"strong"),s.yc(47),s.Nb(),s.Nb(),s.Kb(48,"td"),s.Kb(49,"td"),s.Kb(50,"td"),s.Nb(),s.Nb(),s.Nb(),s.Ob(51,"table",36),s.Ob(52,"tr"),s.Ob(53,"th"),s.yc(54,"Counter Name"),s.Nb(),s.Ob(55,"th"),s.yc(56,"No of seat sold / Reserved"),s.Nb(),s.Ob(57,"th"),s.yc(58,"Hotelswave Commission"),s.Nb(),s.Ob(59,"th"),s.yc(60,"Hotelswave Agent Commission"),s.Nb(),s.Ob(61,"th"),s.yc(62,"Ship Agent Commission"),s.Nb(),s.Nb(),s.wc(63,st,11,5,"tr",35),s.bc(64,"keyvalue"),s.Nb(),s.Nb()),2&t){const t=s.ac();s.xb(3),s.Fc("",t.reportType," report of ",t.counter.name," from ",s.cc(4,10,t.daterange.startDate)," to ",s.cc(5,12,t.daterange.endDate)," for ",t.ship.shipNumber,"-",t.ship.name,""),s.xb(29),s.hc("ngForOf",t.reportList),s.xb(12),s.Ac(" ",t.total.totalrent," "),s.xb(3),s.zc(t.total.totalCommission),s.xb(16),s.hc("ngForOf",s.cc(64,14,t.soldBy))}}function at(t,e){if(1&t&&(s.Ob(0,"tr"),s.Ob(1,"td"),s.yc(2),s.bc(3,"date"),s.Nb(),s.Ob(4,"td"),s.yc(5),s.Nb(),s.Ob(6,"td"),s.yc(7),s.Nb(),s.Ob(8,"td"),s.yc(9),s.Nb(),s.Nb()),2&t){const t=e.$implicit;s.xb(2),s.zc(s.dc(3,4,t.date,"MMM d, y, h:mm:ss a")),s.xb(3),s.zc(t.explanation),s.xb(2),s.zc(t.debit),s.xb(2),s.zc(t.credit)}}function dt(t,e){if(1&t&&(s.Ob(0,"table",15),s.Ob(1,"thead"),s.Ob(2,"tr"),s.Ob(3,"th"),s.yc(4,"Date"),s.Nb(),s.Ob(5,"th"),s.yc(6,"Explanation"),s.Nb(),s.Ob(7,"th"),s.yc(8,"Debit"),s.Nb(),s.Ob(9,"th"),s.yc(10,"Credit"),s.Nb(),s.Nb(),s.Nb(),s.Ob(11,"tbody"),s.wc(12,at,10,7,"tr",16),s.Nb(),s.Ob(13,"tfoot"),s.Ob(14,"tr"),s.Kb(15,"td"),s.Ob(16,"td",17),s.yc(17,"Total : \xa0"),s.Nb(),s.Ob(18,"th"),s.yc(19),s.Nb(),s.Kb(20,"td"),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.ac();s.xb(12),s.hc("ngForOf",t.shipAdminCashbook),s.xb(7),s.zc(t.total)}}const lt=[{path:"counter",component:E},{path:"sells",component:x},{path:"range",component:T},{path:"booking",component:W},{path:"individual",component:(()=>{class t{constructor(t,e,i,n){this.userService=t,this.reportService=e,this.util=i,this.shipService=n,this.daterange={},this.reportType="Sells",this.loading=!1,this.soldBy=new Map}ngOnInit(){this.getAllShip(),this.setDateRanges()}setDateRanges(){this.daterange.startDate=new Date,this.daterange.endDate=new Date;const t=new Date;t.setDate(this.daterange.startDate.getDate()-190);const e=new Date;e.setDate(this.daterange.endDate.getDate()+190),this.daterange.startDate.setDate(this.daterange.endDate.getDate()-10),this.daterange.endDate.setDate(this.daterange.endDate.getDate()+10),this.options={autoApply:!0,locale:{format:"DD MMM,YY"},minDate:t,maxDate:e,startDate:this.daterange.startDate,endDate:this.daterange.endDate,alwaysShowCalendars:!1}}selectedDate(t){this.reportList=null,this.daterange.startDate=t.start._d,this.daterange.endDate=t.end._d,this.daterange.label=t.label}onPrint(){window.print()}getAllShip(t=0){return Object(b.a)(this,void 0,void 0,function*(){this.loading=!0;try{const e=yield this.shipService.getAllShip(t).toPromise();this.shipList=e.content,this.shipList.sort(this.util.dynamicSortObject("priority")),this.loading=!1}catch(e){console.log(e)}})}getServiceAdminUserByRole(t){return Object(b.a)(this,void 0,void 0,function*(){this.reportList=null,this.loading=!0;try{this.userList=yield this.userService.getServiceAdminUserByRole(t).toPromise(),this.userList.sort(this.util.dynamicSortObject("name")),this.loading=!1}catch(e){console.log(e)}})}onCounterChange(t){this.reportList=null,this.counter=this.userList.find(e=>e.id==t)}onShipChange(t){this.reportList=null,this.ship=this.shipList.find(e=>e.id==t)}onSearch(){switch(this.reportType){case"Sells":this.getServiceAdminSellsRangeReport(this.ship.id,this.counter.id,this.daterange.startDate,this.daterange.endDate);break;case"Reservation":this.getServiceAdminReservationRangeReport(this.ship.id,this.counter.id,this.daterange.startDate,this.daterange.endDate)}}getServiceAdminSellsRangeReport(t,e,i,n){return Object(b.a)(this,void 0,void 0,function*(){this.loading=!0;const o=this.util.getDateString(i),b=this.util.getDateString(n);try{this.reportList=yield this.reportService.getServiceAdminSellsReportRangeForIndividual(t,e,o,b).toPromise(),this.calculateServiceAdminBookingReportList(),this.loading=!1}catch(c){console.log(c)}})}getServiceAdminReservationRangeReport(t,e,i,n){return Object(b.a)(this,void 0,void 0,function*(){this.loading=!0;const o=this.util.getDateString(i),b=this.util.getDateString(n);try{this.reportList=yield this.reportService.getServiceAdminReserveReportRangeForIndividual(t,e,o,b).toPromise(),this.calculateServiceAdminBookingReportList(),this.loading=!1}catch(c){console.log(c)}})}calculateServiceAdminBookingReportList(){this.total={totalrent:0,totalAdvance:0,totalDue:0,totalCommission:0},this.soldBy=new Map,this.reportList.forEach(t=>{if(this.total.totalrent+=t.price,this.total.totalCommission+=t.hotelswaveAgentCommission+t.hotelswaveCommission+t.shipAgentCommission,t.soldBy&&t.seatNumbers){const e=null==this.soldBy.get(t.soldBy)?t.hotelswaveCommission:this.soldBy.get(t.soldBy).hotelswaveCommission+t.hotelswaveCommission,i=null==this.soldBy.get(t.soldBy)?t.hotelswaveAgentCommission:this.soldBy.get(t.soldBy).hotelswaveAgentCommission+t.hotelswaveAgentCommission,n=null==this.soldBy.get(t.soldBy)?t.shipAgentCommission:this.soldBy.get(t.soldBy).shipAgentCommission+t.shipAgentCommission,o=null==this.soldBy.get(t.soldBy)?t.seatNumbers.length:this.soldBy.get(t.soldBy).totalSeatNumber+t.seatNumbers.length;this.soldBy.set(t.soldBy,{hotelswaveCommission:e,hotelswaveAgentCommission:i,shipAgentCommission:n,totalSeatNumber:o})}})}clear(){this.reportList=null}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(Q.a),s.Jb(c.a),s.Jb(Z.a),s.Jb(tt.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-individual-report"]],decls:57,vars:7,consts:[[1,"container-fluid","d-print-none"],[1,"row","px-3","details-title","text-left"],[1,"container-fluid"],[1,"row","d-print-none","bg-light","shadow-sm"],[1,"col-auto"],[1,"form-group"],["for","counterType"],["id","counterType",1,"form-control",3,"change"],["value",""],["value","admin"],["value","Agent"],["value","Service Admin"],["value","Service Agent"],["for","counter"],[3,"value",4,"ngFor","ngForOf"],["for","dateRange"],["type","text","id","dateRange","name","daterangeInput","daterangepicker","",1,"form-control",3,"options","selected"],["for","reportType"],[1,"input-group","mb-2"],["id","reportType",1,"form-control",3,"ngModel","ngModelChange","change"],["value","Sells"],["value","Reservation"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center","ml-auto","mr-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-print"],[4,"ngIf"],["class","row mb-5 mx-2",4,"ngIf"],[3,"value"],[1,"d-flex","align-items-center"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"row","mb-5","mx-2"],[1,"col-12"],[1,"text-center"],[1,"table","table-bordered","table-hover","table-responsive-sm"],[4,"ngFor","ngForOf"],[1,"table","table-bordered","table-hover","table-responsive-sm","mt-4"]],template:function(t,e){1&t&&(s.Ob(0,"div",0),s.Ob(1,"span",1),s.yc(2,"Individual Report"),s.Nb(),s.Nb(),s.Ob(3,"div",2),s.Ob(4,"div",3),s.Ob(5,"div",4),s.Ob(6,"div",5),s.Ob(7,"label",6),s.yc(8,"Counter Type"),s.Nb(),s.Ob(9,"select",7),s.Yb("change",function(t){return e.getServiceAdminUserByRole(t.target.value)}),s.Ob(10,"option",8),s.yc(11," Select a counterType "),s.Nb(),s.Ob(12,"option",9),s.yc(13," Hotelswave "),s.Nb(),s.Ob(14,"option",10),s.yc(15," Hotelswave Agent "),s.Nb(),s.Ob(16,"option",11),s.yc(17," Ship Admin "),s.Nb(),s.Ob(18,"option",12),s.yc(19," Ship Agent "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(20,"div",4),s.Ob(21,"div",5),s.Ob(22,"label",13),s.yc(23,"Counter"),s.Nb(),s.Ob(24,"select",7),s.Yb("change",function(t){return e.onCounterChange(t.target.value)}),s.Ob(25,"option",8),s.yc(26," Select a Counter "),s.Nb(),s.wc(27,et,2,3,"option",14),s.Nb(),s.Nb(),s.Nb(),s.Ob(28,"div",4),s.Ob(29,"div",5),s.Ob(30,"label",15),s.yc(31,"Date Range"),s.Nb(),s.Ob(32,"input",16),s.Yb("selected",function(t){return e.selectedDate(t)}),s.Nb(),s.Nb(),s.Nb(),s.Ob(33,"div",4),s.Ob(34,"label",17),s.yc(35,"Report Type"),s.Nb(),s.Ob(36,"div",18),s.Ob(37,"select",19),s.Yb("ngModelChange",function(t){return e.reportType=t})("change",function(){return e.clear()}),s.Ob(38,"option",20),s.yc(39," By Sells "),s.Nb(),s.Ob(40,"option",21),s.yc(41," By Journey Date "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(42,"div",4),s.Ob(43,"div",5),s.Ob(44,"label",13),s.yc(45,"Ship"),s.Nb(),s.Ob(46,"select",7),s.Yb("change",function(t){return e.onShipChange(t.target.value)}),s.Ob(47,"option",8),s.yc(48," Select a Ship "),s.Nb(),s.wc(49,it,2,3,"option",14),s.Nb(),s.Nb(),s.Nb(),s.wc(50,nt,3,0,"div",22),s.Ob(51,"div",23),s.Ob(52,"button",24),s.Yb("click",function(){return e.onPrint()}),s.Kb(53,"i",25),s.yc(54," Print"),s.Nb(),s.Nb(),s.Nb(),s.wc(55,ot,1,0,"app-loading",26),s.wc(56,rt,65,16,"div",27),s.Nb()),2&t&&(s.xb(27),s.hc("ngForOf",e.userList),s.xb(5),s.hc("options",e.options),s.xb(5),s.hc("ngModel",e.reportType),s.xb(12),s.hc("ngForOf",e.shipList),s.xb(1),s.hc("ngIf",!!e.counter&&!!e.ship),s.xb(5),s.hc("ngIf",e.loading),s.xb(1),s.hc("ngIf",e.reportList&&e.reportList.length>0))},directives:[d.o,d.u,l.m,D.b,d.s,d.k,d.n,l.n],pipes:[l.e,l.h],styles:[""]}),t})()},{path:"agent-cash",component:(()=>{class t{constructor(t){this.reportService=t,this.shipAdminCashbook=[],this.total=0}ngOnInit(){let t=new Date;this.dd={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()},this.maxDate=Object.assign({},this.dd),this.getAdminAgentCash(this.dd)}getAdminAgentCash({year:t,month:e,day:i}){return Object(b.a)(this,void 0,void 0,function*(){const n=`${t}-${e=e<10?"0"+e:e}-${i=i<10?"0"+i:i}`;try{const t=yield this.reportService.getServiceAdminAgentCashReport(n).toPromise();this.shipAdminCashbook=t;let e=0;this.shipAdminCashbook.forEach(t=>{e+=t.debit}),this.total=e}catch(o){console.log(o)}})}onDateChange(){console.log("onDateChange",this.dd)}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-agent-cash"]],decls:19,vars:6,consts:[[1,"container-fluid","d-print-none"],[1,"row","px-3","details-title","text-left"],[1,"container-fluid"],[1,"row"],[1,"col-auto"],[1,"form-group"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","maxDate","ngModelChange","dateSelect"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar"],[1,"col","text-center"],[1,"offset-md-2","col-md-8"],["class","table border table-responsive-sm table-hover",4,"ngIf"],[1,"table","border","table-responsive-sm","table-hover"],[4,"ngFor","ngForOf"],[1,"text-right"]],template:function(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",0),s.Ob(1,"span",1),s.yc(2,"Agent Cash Report"),s.Nb(),s.Nb(),s.Ob(3,"div",2),s.Ob(4,"div",3),s.Ob(5,"div",4),s.Ob(6,"div",5),s.Ob(7,"div",6),s.Ob(8,"input",7,8),s.Yb("ngModelChange",function(t){return e.dd=t})("dateSelect",function(){return e.getAdminAgentCash(e.dd)}),s.Nb(),s.Ob(10,"div",9),s.Ob(11,"button",10),s.Yb("click",function(){return s.qc(t),s.pc(9).toggle()}),s.Kb(12,"i",11),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(13,"div",12),s.Ob(14,"h3"),s.yc(15),s.Nb(),s.Nb(),s.Nb(),s.Ob(16,"div",3),s.Ob(17,"div",13),s.wc(18,dt,21,2,"table",14),s.Nb(),s.Nb(),s.Nb()}2&t&&(s.xb(8),s.hc("ngModel",e.dd)("maxDate",e.maxDate),s.xb(7),s.Cc("Agent cash report for ",null==e.dd?null:e.dd.day,"-",null==e.dd?null:e.dd.month,"-",null==e.dd?null:e.dd.year,""),s.xb(3),s.hc("ngIf",e.shipAdminCashbook))},directives:[a.d,d.b,d.k,d.n,l.n,l.m],pipes:[l.e],styles:[""]}),t})()}];let ht=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[o.a,n.e.forChild(lt)]]}),t})()},z3bE:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("fXoL");let o=(()=>{class t{constructor(){}getDatesBetween(t,e){const i=new Date(t),n=new Date(e);n.setDate(n.getDate()-1);let o=[];for(;i.getTime()<=n.getTime();){const t=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate();o.push(t),i.setDate(i.getDate()+1)}return o}getDateString(t){const e=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+"-"+e+"-"+i}getDateStringFromDateObj(t){return t.year+"-"+t.month+"-"+t.day}getTimeStringFromTimeObj(t){return t.hour+":"+t.minute}dynamicSortObject(t){let e=t.split("."),i=e.length;if(i<2){var n=1;return"-"===t[0]&&(n=-1,t=t.substr(1)),function(e,i){return(e[t]<i[t]?-1:e[t]>i[t]?1:0)*n}}if(i>=2)return function(t,n){for(var o=0;o<i;)t=t[e[o]],n=n[e[o]],o++;return t<n?-1:t>n?1:0}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);