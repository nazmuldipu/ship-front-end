!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{HF3I:function(t,i,r){"use strict";r.d(i,"a",function(){return c});var a=r("fXoL"),c=function(){var t=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Db({type:t,selectors:[["loading"]],decls:4,vars:0,consts:[[1,"loader"],[1,"text-center"]],template:function(e,t){1&e&&(a.Ob(0,"div",0),a.yc(1,"Loading..."),a.Nb(),a.Ob(2,"div",1),a.yc(3,"Please wait ..."),a.Nb())},styles:[".loader[_ngcontent-%COMP%]{color:#137b85;font-size:30px;text-indent:-9999em;overflow:hidden;width:1em;height:1em;border-radius:50%;margin:20px auto;position:relative;transform:translateZ(0);-webkit-animation:load6 1.7s ease infinite,round 1.7s ease infinite;animation:load6 1.7s ease infinite,round 1.7s ease infinite}@-webkit-keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}to{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}to{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@-webkit-keyframes round{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes round{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),t}()},qFm2:function(t,i,r){"use strict";r.r(i),r.d(i,"ROUTES",function(){return le}),r.d(i,"AccountingsModule",function(){return ge});var a=r("mrSG"),c=r("/7iW"),o=r("5Pr4"),b=r("fXoL"),s=r("ofXK"),m=r("uEz7"),u=r("HF3I"),d=r("3Pt+");function l(e,t){if(1&e){var n=b.Pb();b.Ob(0,"tr"),b.Ob(1,"td"),b.yc(2),b.Nb(),b.Ob(3,"td"),b.yc(4),b.Nb(),b.Ob(5,"td"),b.yc(6),b.Nb(),b.Ob(7,"td"),b.Ob(8,"button",11),b.Yb("click",function(){b.qc(n);var e=t.$implicit;return b.ac(2).onSelect(e.id)}),b.Kb(9,"i",12),b.Nb(),b.Nb(),b.Nb()}if(2&e){var i=t.$implicit;b.xb(2),b.zc(i.name),b.xb(2),b.zc(i.phoneNumber),b.xb(2),b.zc(i.email)}}function g(e,t){if(1&e){var n=b.Pb();b.Ob(0,"tr"),b.Ob(1,"td",13),b.Ob(2,"pagination",14),b.Yb("getPage",function(e){return b.qc(n),b.ac(2).getUserPage(e)}),b.Nb(),b.Nb(),b.Nb()}if(2&e){var i=b.ac(2);b.xb(2),b.hc("page",i.userPage)}}function f(e,t){if(1&e&&(b.Ob(0,"div",6),b.Ob(1,"h3",7),b.yc(2,"Agent list"),b.Nb(),b.Ob(3,"table",8),b.Ob(4,"thead"),b.Ob(5,"tr"),b.Ob(6,"th"),b.yc(7,"Name"),b.Nb(),b.Ob(8,"th"),b.yc(9,"Phone"),b.Nb(),b.Ob(10,"th"),b.yc(11,"Email"),b.Nb(),b.Kb(12,"th"),b.Nb(),b.Nb(),b.Ob(13,"tbody"),b.wc(14,l,10,3,"tr",9),b.Nb(),b.Ob(15,"tfoot"),b.wc(16,g,3,1,"tr",10),b.Nb(),b.Nb(),b.Nb()),2&e){var n=b.ac();b.xb(14),b.hc("ngForOf",null==n.userPage?null:n.userPage.content),b.xb(2),b.hc("ngIf",(null==n.userPage?null:n.userPage.totalPages)>1)}}function h(e,t){if(1&e&&(b.Ob(0,"tr"),b.Ob(1,"td"),b.yc(2),b.bc(3,"date"),b.Nb(),b.Ob(4,"td"),b.yc(5),b.Nb(),b.Ob(6,"td"),b.yc(7),b.Nb(),b.Ob(8,"td"),b.yc(9),b.Nb(),b.Ob(10,"td",19),b.yc(11),b.bc(12,"currency"),b.Nb(),b.Nb()),2&e){var n=t.$implicit;b.xb(2),b.zc(b.dc(3,5,n.date,"MMM d, y, h:mm:ss a")),b.xb(3),b.zc(n.explanation),b.xb(2),b.zc(n.debit),b.xb(2),b.zc(n.credit),b.xb(2),b.Ac(" ",b.ec(12,8,n.balance,"BDT ","symbol","4.2-2")," ")}}function p(e,t){if(1&e&&(b.Ob(0,"tbody"),b.wc(1,h,13,13,"tr",9),b.Nb()),2&e){var n=b.ac(2);b.xb(1),b.hc("ngForOf",n.adminAgentLedgerPage.content)}}function v(e,t){1&e&&(b.Ob(0,"tr"),b.Ob(1,"td",15),b.Kb(2,"loading"),b.Nb(),b.Nb())}function O(e,t){if(1&e){var n=b.Pb();b.Ob(0,"pagination",14),b.Yb("getPage",function(e){b.qc(n);var t=b.ac(2);return t.getAgentLedger(null==t.user?null:t.user.id,e)}),b.Nb()}if(2&e){var i=b.ac(2);b.hc("page",i.adminAgentLedgerPage)}}function N(e,t){if(1&e){var n=b.Pb();b.Ob(0,"div",6),b.Ob(1,"h3",7),b.yc(2),b.Nb(),b.Ob(3,"table",8),b.Ob(4,"thead"),b.Ob(5,"tr"),b.Ob(6,"th"),b.yc(7,"Date"),b.Nb(),b.Ob(8,"th"),b.yc(9,"Explanation"),b.Nb(),b.Ob(10,"th"),b.yc(11,"Debit"),b.Nb(),b.Ob(12,"th"),b.yc(13,"Credit"),b.Nb(),b.Ob(14,"th"),b.yc(15,"Balance"),b.Nb(),b.Nb(),b.Nb(),b.wc(16,p,2,1,"tbody",10),b.Ob(17,"tfoot"),b.wc(18,v,3,0,"tr",10),b.Ob(19,"tr"),b.Ob(20,"td",15),b.wc(21,O,1,1,"pagination",16),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(22,"div",17),b.Ob(23,"button",18),b.Yb("click",function(){return b.qc(n),b.ac().clear()}),b.yc(24," Back to agent list "),b.Nb(),b.Nb(),b.Nb()}if(2&e){var i=b.ac();b.xb(2),b.Ac("",null==i.user?null:i.user.name," Ledger"),b.xb(14),b.hc("ngIf",i.adminAgentLedgerPage),b.xb(2),b.hc("ngIf",i.loading),b.xb(3),b.hc("ngIf",null!=i.adminAgentLedgerPage)}}function x(e,t){if(1&e&&(b.Ob(0,"div",24),b.yc(1),b.Nb()),2&e){var n=b.ac(2);b.xb(1),b.Ac(" ",n.message," ")}}function y(e,t){if(1&e){var n=b.Pb();b.Ob(0,"button",30),b.Yb("click",function(){return b.qc(n),b.ac(3).addBalace()}),b.yc(1," Add "),b.Nb()}}function k(e,t){if(1&e){var n=b.Pb();b.Ob(0,"form",25),b.Ob(1,"div",26),b.Ob(2,"label"),b.yc(3," Amount "),b.Nb(),b.Nb(),b.Ob(4,"div",27),b.Ob(5,"input",28),b.Yb("ngModelChange",function(e){return b.qc(n),b.ac(2).amount=e}),b.Nb(),b.Nb(),b.wc(6,y,2,0,"button",29),b.Nb()}if(2&e){var i=b.ac(2);b.xb(5),b.hc("ngModel",i.amount),b.xb(1),b.hc("ngIf",i.amount>0)}}function w(e,t){if(1&e&&(b.Ob(0,"div",20),b.Ob(1,"h3",7),b.yc(2,"Add agent balance"),b.Nb(),b.wc(3,x,2,1,"div",21),b.Ob(4,"div",22),b.wc(5,k,7,2,"form",23),b.Nb(),b.Nb()),2&e){var n=b.ac();b.xb(3),b.hc("ngIf",n.message.length>0),b.xb(2),b.hc("ngIf",n.user)}}var P,A=((P=function(){function t(n,i){e(this,t),this.userService=n,this.accountingService=i,this.amount=0,this.loading=!1,this.message=""}return n(t,[{key:"ngOnInit",value:function(){this.getUserPage()}},{key:"getUserPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.userService.getAdminAgents(e).toPromise();case 4:this.userPage=t.sent,this.loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}))}},{key:"onSelect",value:function(e){var t=this.userPage.content.find(function(t){return t.id===e});this.user=Object.assign({},t),this.getAgentLedger(t.id)}},{key:"getAgentLedger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.loading=!0,n.prev=1,n.next=4,this.accountingService.getAdminAgentLedgerByAdmin(e,t).toPromise();case 4:this.adminAgentLedgerPage=n.sent,this.loading=!1,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:case"end":return n.stop()}},n,this,[[1,8]])}))}},{key:"addBalace",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure to add balance "+this.amount+" to "+this.user.name+" Account ")){e.next=12;break}return e.prev=1,e.next=4,this.accountingService.addAdminAgentBalance(this.user.id,this.amount).toPromise();case 4:this.message="Amount added successfully",this.amount=0,this.getAgentLedger(this.user.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}))}},{key:"clear",value:function(){this.message="",this.user=null}}]),t}()).\u0275fac=function(e){return new(e||P)(b.Jb(c.a),b.Jb(o.a))},P.\u0275cmp=b.Db({type:P,selectors:[["app-agent-balance"]],decls:8,vars:3,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],["class","col-md-8",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-8"],[1,"text-center"],[1,"table","border"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn-sm","btn-warning",3,"click"],[1,"fa","fa-pencil-square-o"],["colspan","4"],[3,"page","getPage"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"text-right"],[1,"col-md-4"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"d-flex","justify-content-center","my-5"],["class","form-inline",4,"ngIf"],["role","alert",1,"alert","alert-success"],[1,"form-inline"],[1,"form-group","mb-2"],[1,"form-group","mx-sm-3","mb-2"],["type","number","id","amount","name","amount",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","class","btn btn-primary mb-2",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","mb-2",3,"click"]],template:function(e,t){1&e&&(b.Ob(0,"div",0),b.Ob(1,"span",1),b.yc(2,"Add agent balance"),b.Nb(),b.Nb(),b.Ob(3,"div",2),b.Ob(4,"div",3),b.wc(5,f,17,2,"div",4),b.wc(6,N,25,4,"div",4),b.wc(7,w,6,2,"div",5),b.Nb(),b.Nb()),2&e&&(b.xb(5),b.hc("ngIf",!t.user),b.xb(1),b.hc("ngIf",t.user),b.xb(1),b.hc("ngIf",t.user))},directives:[s.n,s.m,m.a,u.a,d.v,d.l,d.m,d.p,d.b,d.k,d.n],pipes:[s.e,s.c],styles:[""]}),P),I=r("tyNb");function S(e,t){1&e&&(b.Ob(0,"small",12),b.yc(1," Explanation required "),b.Nb())}function C(e,t){1&e&&(b.Ob(0,"small",12),b.yc(1," Debit required "),b.Nb())}function L(e,t){if(1&e&&(b.Ob(0,"div",3),b.Ob(1,"label",13),b.yc(2,"Debit"),b.Nb(),b.Kb(3,"input",14),b.wc(4,C,2,0,"small",6),b.Nb()),2&e){var n=b.ac();b.xb(4),b.hc("ngIf",n.form.controls.debit.errors&&n.form.controls.debit.touched)}}function F(e,t){1&e&&(b.Ob(0,"small",12),b.yc(1," Credit required "),b.Nb())}function R(e,t){if(1&e&&(b.Ob(0,"div",3),b.Ob(1,"label",15),b.yc(2,"Credit"),b.Nb(),b.Kb(3,"input",16),b.wc(4,F,2,0,"small",6),b.Nb()),2&e){var n=b.ac();b.xb(4),b.hc("ngIf",n.form.controls.credit.errors&&n.form.controls.credit.touched)}}function z(e,t){1&e&&(b.Ob(0,"a",17),b.yc(1," Add income "),b.Nb())}function D(e,t){1&e&&(b.Ob(0,"a",18),b.yc(1," Add expense "),b.Nb())}var q,Y=function(e){return{disabled:e}},j=((q=function(){function t(n){e(this,t),this.builder=n,this.value=new b.n,this.createForm()}return n(t,[{key:"ngOnChanges",value:function(e){e.expenseForm&&this.form.patchValue(1==e.expenseForm.currentValue?{debit:0}:{credit:0})}},{key:"createForm",value:function(){this.form=this.builder.group({explanation:["",d.t.required],debit:["",d.t.required],credit:["",d.t.required]})}},{key:"submit",value:function(){this.form.valid&&(this.value.emit(this.form.value),this.form.reset())}}]),t}()).\u0275fac=function(e){return new(e||q)(b.Jb(d.c))},q.\u0275cmp=b.Db({type:q,selectors:[["admin-income-expense"]],inputs:{expenseForm:"expenseForm"},outputs:{value:"value"},features:[b.vb],decls:16,vars:10,consts:[[1,"container"],[1,"text-center"],[1,"border","p-3",3,"formGroup","ngSubmit"],[1,"form-group"],["for","explanation"],["id","explanation","formControlName","explanation",1,"form-control"],["class","text-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],["class","btn btn-success","routerLink","/dashboard/admin/accountings/add-income",4,"ngIf"],["class","btn btn-success","routerLink","/dashboard/admin/accountings/add-expense",4,"ngIf"],["type","submit",1,"btn","btn-primary","mx-1",3,"ngClass"],[1,"text-danger"],["for","debit"],["type","number","id","debit","formControlName","debit",1,"form-control"],["for","credit"],["type","number","id","credit","formControlName","credit",1,"form-control"],["routerLink","/dashboard/admin/accountings/add-income",1,"btn","btn-success"],["routerLink","/dashboard/admin/accountings/add-expense",1,"btn","btn-success"]],template:function(e,t){1&e&&(b.Ob(0,"div",0),b.Ob(1,"h3",1),b.yc(2),b.Nb(),b.Ob(3,"form",2),b.Yb("ngSubmit",function(){return t.submit()}),b.Ob(4,"div",3),b.Ob(5,"label",4),b.yc(6,"Explanation"),b.Nb(),b.Kb(7,"input",5),b.wc(8,S,2,0,"small",6),b.Nb(),b.wc(9,L,5,1,"div",7),b.wc(10,R,5,1,"div",7),b.Ob(11,"div",8),b.wc(12,z,2,0,"a",9),b.wc(13,D,2,0,"a",10),b.Ob(14,"button",11),b.yc(15," Submit "),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.xb(2),b.Ac("",t.expenseForm?"Expense":"Income"," Form"),b.xb(1),b.hc("formGroup",t.form),b.xb(5),b.hc("ngIf",t.form.controls.explanation.errors&&t.form.controls.explanation.touched),b.xb(1),b.hc("ngIf",!t.expenseForm),b.xb(1),b.hc("ngIf",t.expenseForm),b.xb(2),b.hc("ngIf",t.expenseForm),b.xb(1),b.hc("ngIf",!t.expenseForm),b.xb(1),b.hc("ngClass",b.lc(8,Y,t.form.invalid)))},directives:[d.v,d.l,d.e,d.b,d.k,d.d,s.n,s.l,d.p,I.d],styles:[""]}),q);function B(e,t){if(1&e&&(b.Ob(0,"tr"),b.Ob(1,"td"),b.yc(2),b.Nb(),b.Ob(3,"td"),b.yc(4),b.Nb(),b.Ob(5,"td"),b.yc(6),b.Nb(),b.Ob(7,"td"),b.yc(8),b.Nb(),b.Ob(9,"td",1),b.yc(10),b.bc(11,"currency"),b.Nb(),b.Nb()),2&e){var n=t.$implicit;b.xb(2),b.zc(n.date),b.xb(2),b.zc(n.explanation),b.xb(2),b.zc(n.debit),b.xb(2),b.zc(n.credit),b.xb(2),b.Ac(" ",b.ec(11,5,n.balance,"BDT ","symbol","4.2-2")," ")}}function M(e,t){if(1&e&&(b.Ob(0,"tbody"),b.wc(1,B,12,10,"tr",5),b.Nb()),2&e){var n=b.ac();b.xb(1),b.hc("ngForOf",n.adminCashbookPage.content)}}function E(e,t){if(1&e){var n=b.Pb();b.Ob(0,"pagination",6),b.Yb("getPage",function(e){return b.qc(n),b.ac().getAdminCashbook(e)}),b.Nb()}if(2&e){var i=b.ac();b.hc("page",i.adminCashbookPage)}}var J,$,K,T,U=((T=function(){function t(){e(this,t),this.page=new b.n}return n(t,[{key:"getAdminCashbook",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.page.emit(e)}}]),t}()).\u0275fac=function(e){return new(e||T)},T.\u0275cmp=b.Db({type:T,selectors:[["admin-cashbook-table"]],inputs:{adminCashbookPage:"adminCashbookPage"},outputs:{page:"page"},decls:18,vars:2,consts:[[1,"table","border"],[1,"text-right"],[4,"ngIf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"page","getPage"]],template:function(e,t){1&e&&(b.Ob(0,"table",0),b.Ob(1,"thead"),b.Ob(2,"tr"),b.Ob(3,"th"),b.yc(4,"Date"),b.Nb(),b.Ob(5,"th"),b.yc(6,"Explanation"),b.Nb(),b.Ob(7,"th"),b.yc(8,"Debit"),b.Nb(),b.Ob(9,"th"),b.yc(10,"Credit"),b.Nb(),b.Ob(11,"th",1),b.yc(12,"Balance"),b.Nb(),b.Nb(),b.Nb(),b.wc(13,M,2,1,"tbody",2),b.Ob(14,"tfoot"),b.Ob(15,"tr"),b.Ob(16,"td",3),b.wc(17,E,1,1,"pagination",4),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.xb(13),b.hc("ngIf",t.adminCashbookPage),b.xb(4),b.hc("ngIf",null!=t.adminCashbookPage))},directives:[s.n,s.m,m.a],pipes:[s.c],styles:[""]}),T),G=((K=function(){function t(n){e(this,t),this.accountingService=n,this.expenseForm=!1}return n(t,[{key:"ngOnInit",value:function(){this.getAdminCashbook()}},{key:"getAdminCashbook",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.accountingService.getAdminCashbook(e).toPromise();case 3:this.adminCashbookPage=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"onSubmit",value:function(e){var t=e.explanation,n=e.debit;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.accountingService.addAdminIncome(n,t).toPromise();case 3:this.getAdminCashbook(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))}}]),t}()).\u0275fac=function(e){return new(e||K)(b.Jb(o.a))},K.\u0275cmp=b.Db({type:K,selectors:[["app-add-income"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[3,"expenseForm","value"],[1,"col-md-8"],[3,"adminCashbookPage","page"]],template:function(e,t){1&e&&(b.Ob(0,"div",0),b.Ob(1,"span",1),b.yc(2,"Add income"),b.Nb(),b.Nb(),b.Ob(3,"div",0),b.Ob(4,"div",2),b.Ob(5,"div",3),b.Ob(6,"admin-income-expense",4),b.Yb("value",function(e){return t.onSubmit(e)}),b.Nb(),b.Nb(),b.Ob(7,"div",5),b.Ob(8,"admin-cashbook-table",6),b.Yb("page",function(e){return t.getAdminCashbook(e)}),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.xb(6),b.hc("expenseForm",t.expenseForm),b.xb(2),b.hc("adminCashbookPage",t.adminCashbookPage))},directives:[j,U],styles:[""]}),K),H=(($=function(){function t(n){e(this,t),this.accountingService=n,this.expenseForm=!0}return n(t,[{key:"ngOnInit",value:function(){this.getAdminCashbook()}},{key:"getAdminCashbook",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.accountingService.getAdminCashbook(e).toPromise();case 3:this.adminCashbookPage=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"onSubmit",value:function(e){var t=e.explanation,n=e.credit;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.accountingService.addAdminExpense(n,t).toPromise(),this.getAdminCashbook()}catch(i){console.log(i)}case 1:case"end":return e.stop()}},e,this)}))}}]),t}()).\u0275fac=function(e){return new(e||$)(b.Jb(o.a))},$.\u0275cmp=b.Db({type:$,selectors:[["app-add-expense"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[3,"expenseForm","value"],[1,"col-md-8"],[3,"adminCashbookPage","page"]],template:function(e,t){1&e&&(b.Ob(0,"div",0),b.Ob(1,"span",1),b.yc(2,"Add expense"),b.Nb(),b.Nb(),b.Ob(3,"div",0),b.Ob(4,"div",2),b.Ob(5,"div",3),b.Ob(6,"admin-income-expense",4),b.Yb("value",function(e){return t.onSubmit(e)}),b.Nb(),b.Nb(),b.Ob(7,"div",5),b.Ob(8,"admin-cashbook-table",6),b.Yb("page",function(e){return t.getAdminCashbook(e)}),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.xb(6),b.hc("expenseForm",t.expenseForm),b.xb(2),b.hc("adminCashbookPage",t.adminCashbookPage))},directives:[j,U],styles:[""]}),$),X=((J=function(){function t(n){e(this,t),this.accountingService=n}return n(t,[{key:"ngOnInit",value:function(){this.getAdminCashbook()}},{key:"getAdminCashbook",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.accountingService.getAdminCashbook(e).toPromise();case 3:this.adminCashbookPage=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}}]),t}()).\u0275fac=function(e){return new(e||J)(b.Jb(o.a))},J.\u0275cmp=b.Db({type:J,selectors:[["app-admin-cashbook"]],decls:8,vars:1,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[3,"adminCashbookPage","page"]],template:function(e,t){1&e&&(b.Ob(0,"div",0),b.Ob(1,"span",1),b.yc(2,"Admin cashbook"),b.Nb(),b.Nb(),b.Ob(3,"div",0),b.Ob(4,"div",2),b.Kb(5,"div",3),b.Ob(6,"div",4),b.Ob(7,"admin-cashbook-table",5),b.Yb("page",function(e){return t.getAdminCashbook(e)}),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.xb(7),b.hc("adminCashbookPage",t.adminCashbookPage))},directives:[U],styles:[""]}),J),V=r("3whx");function _(e,t){if(1&e){var n=b.Pb();b.Ob(0,"a",3),b.Yb("click",function(){b.qc(n);var e=t.$implicit;return b.ac().onSelectAdmin(e.id)}),b.Kb(1,"i",4),b.yc(2),b.Nb()}if(2&e){var i=t.$implicit;b.xb(2),b.Bc(" ",i.name," [",i.phoneNumber,"] ")}}r("zdEN");var W,Z=((W=function(){function t(n){e(this,t),this.userService=n,this.admin=new b.n}return n(t,[{key:"ngOnInit",value:function(){this.getShipAdminList()}},{key:"getShipAdminList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getAllShipAdminList(e).subscribe(function(e){n.userPage=e});case 2:case"end":return t.stop()}},t,this)}))}},{key:"onSelectAdmin",value:function(e){var t=this.userPage.content.find(function(t){return t.id==e});this.admin.emit(t)}}]),t}()).\u0275fac=function(e){return new(e||W)(b.Jb(c.a))},W.\u0275cmp=b.Db({type:W,selectors:[["ship-admin-list"]],outputs:{admin:"admin"},decls:7,vars:1,consts:[[1,"list-group"],[1,"list-group-item"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"fa","fa-user"]],template:function(e,t){1&e&&(b.Ob(0,"ul",0),b.Ob(1,"li",1),b.Ob(2,"h5"),b.yc(3,"Ship Admin List"),b.Nb(),b.Ob(4,"small"),b.yc(5,"Choose a admin from below list"),b.Nb(),b.Nb(),b.wc(6,_,3,2,"a",2),b.Nb()),2&e&&(b.xb(6),b.hc("ngForOf",null==t.userPage?null:t.userPage.content))},directives:[s.m],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer}"]}),W);function Q(e,t){if(1&e&&(b.Ob(0,"span"),b.yc(1),b.Nb()),2&e){var n=t.$implicit;b.xb(1),b.Ac(" ",n.name," ")}}function ee(e,t){if(1&e&&(b.Ob(0,"tr"),b.Ob(1,"td"),b.yc(2),b.Nb(),b.Ob(3,"td"),b.yc(4),b.Nb(),b.Ob(5,"td"),b.wc(6,Q,2,1,"span",9),b.Nb(),b.Nb()),2&e){var n=t.$implicit,i=b.ac(2);b.xb(2),b.zc(n.shipNumber),b.xb(2),b.zc(n.name),b.xb(2),b.hc("ngForOf",null==i.user?null:i.user.roles)}}function te(e,t){if(1&e&&(b.Ob(0,"div",7),b.Ob(1,"h4"),b.yc(2),b.Nb(),b.Ob(3,"table",8),b.Ob(4,"thead"),b.Ob(5,"tr"),b.Ob(6,"th"),b.yc(7," Ship No. "),b.Nb(),b.Ob(8,"th"),b.yc(9," Name "),b.Nb(),b.Ob(10,"th"),b.yc(11,"Role"),b.Nb(),b.Nb(),b.Nb(),b.Ob(12,"tbody"),b.wc(13,ee,7,3,"tr",9),b.Nb(),b.Nb(),b.Nb()),2&e){var n=b.ac();b.xb(2),b.Ac("",n.user.name," Ship list"),b.xb(11),b.hc("ngForOf",n.shipList)}}function ne(e,t){if(1&e&&(b.Ob(0,"tr"),b.Ob(1,"td"),b.yc(2),b.Nb(),b.Ob(3,"td"),b.yc(4),b.Nb(),b.Ob(5,"td"),b.yc(6),b.Nb(),b.Ob(7,"td"),b.yc(8),b.Nb(),b.Ob(9,"td",11),b.yc(10),b.bc(11,"currency"),b.Nb(),b.Nb()),2&e){var n=t.$implicit;b.xb(2),b.zc(n.date),b.xb(2),b.zc(n.explanation),b.xb(2),b.zc(n.debit),b.xb(2),b.zc(n.credit),b.xb(2),b.Ac(" ",b.ec(11,5,n.balance,"BDT ","symbol","4.2-2")," ")}}function ie(e,t){if(1&e){var n=b.Pb();b.Ob(0,"pagination",14),b.Yb("getPage",function(e){b.qc(n);var t=b.ac(2);return t.getShipAdminLedgerPage(null==t.user?null:t.user.id,e)}),b.Nb()}if(2&e){var i=b.ac(2);b.hc("page",i.shipAdminLedgerPage)}}function re(e,t){if(1&e&&(b.Ob(0,"div",10),b.Ob(1,"h4"),b.yc(2),b.Nb(),b.Ob(3,"table",8),b.Ob(4,"thead"),b.Ob(5,"tr"),b.Ob(6,"th"),b.yc(7,"Date"),b.Nb(),b.Ob(8,"th"),b.yc(9,"Explanation"),b.Nb(),b.Ob(10,"th"),b.yc(11,"Debit"),b.Nb(),b.Ob(12,"th"),b.yc(13,"Credit"),b.Nb(),b.Ob(14,"th",11),b.yc(15,"Balance"),b.Nb(),b.Nb(),b.Nb(),b.Ob(16,"tbody"),b.wc(17,ne,12,10,"tr",9),b.Nb(),b.Ob(18,"tfoot"),b.Ob(19,"tr"),b.Ob(20,"td",12),b.wc(21,ie,1,1,"pagination",13),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e){var n=b.ac();b.xb(2),b.Ac("",null==n.user?null:n.user.name," Ledger"),b.xb(15),b.hc("ngForOf",n.shipAdminLedgerPage.content),b.xb(4),b.hc("ngIf",null!=n.shipAdminLedgerPage)}}function ae(e,t){if(1&e&&(b.Ob(0,"tr"),b.Ob(1,"td"),b.yc(2),b.Nb(),b.Ob(3,"td"),b.yc(4),b.Nb(),b.Ob(5,"td"),b.yc(6),b.Nb(),b.Ob(7,"td"),b.yc(8),b.Nb(),b.Ob(9,"td",11),b.yc(10),b.bc(11,"currency"),b.Nb(),b.Nb()),2&e){var n=t.$implicit;b.xb(2),b.zc(n.date),b.xb(2),b.zc(n.explanation),b.xb(2),b.zc(n.debit),b.xb(2),b.zc(n.credit),b.xb(2),b.Ac(" ",b.ec(11,5,n.balance,"BDT ","symbol","4.2-2")," ")}}function ce(e,t){if(1&e){var n=b.Pb();b.Ob(0,"pagination",15),b.Yb("getPage",function(e){b.qc(n);var t=b.ac(2);return t.getShipAdminLedgerPage(null==t.user?null:t.user.id,e)}),b.Nb()}if(2&e){var i=b.ac(2);b.hc("page",i.shipAdminLedgerPage)}}function oe(e,t){if(1&e&&(b.Ob(0,"div",9),b.Ob(1,"h4"),b.yc(2),b.Nb(),b.Ob(3,"table",10),b.Ob(4,"thead"),b.Ob(5,"tr"),b.Ob(6,"th"),b.yc(7,"Date"),b.Nb(),b.Ob(8,"th"),b.yc(9,"Explanation"),b.Nb(),b.Ob(10,"th"),b.yc(11,"Debit"),b.Nb(),b.Ob(12,"th"),b.yc(13,"Credit"),b.Nb(),b.Ob(14,"th",11),b.yc(15,"Balance"),b.Nb(),b.Nb(),b.Nb(),b.Ob(16,"tbody"),b.wc(17,ae,12,10,"tr",12),b.Nb(),b.Ob(18,"tfoot"),b.Ob(19,"tr"),b.Ob(20,"td",13),b.wc(21,ce,1,1,"pagination",14),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e){var n=b.ac();b.xb(2),b.Ac("",null==n.user?null:n.user.name," Ledger"),b.xb(15),b.hc("ngForOf",n.shipAdminLedgerPage.content),b.xb(4),b.hc("ngIf",null!=n.shipAdminLedgerPage)}}function be(e,t){if(1&e){var n=b.Pb();b.Ob(0,"button",21),b.Yb("click",function(){return b.qc(n),b.ac(2).addBalace()}),b.yc(1," Add "),b.Nb()}}function se(e,t){if(1&e){var n=b.Pb();b.Ob(0,"form",16),b.Ob(1,"div",17),b.Ob(2,"label"),b.yc(3," Amount "),b.Nb(),b.Nb(),b.Ob(4,"div",18),b.Ob(5,"input",19),b.Yb("ngModelChange",function(e){return b.qc(n),b.ac().amount=e}),b.Nb(),b.Nb(),b.wc(6,be,2,0,"button",20),b.Nb()}if(2&e){var i=b.ac();b.xb(5),b.hc("ngModel",i.amount),b.xb(1),b.hc("ngIf",i.amount>0)}}var me,ue,de,le=[{path:"cashbook",component:X},{path:"ship-admin-ledger",component:(ue=function(){function t(n,i){e(this,t),this.userService=n,this.accountingService=i,this.shipList=[]}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onSelectAdmin",value:function(e){this.user=e,this.getAdminShipList(e.id),this.getShipAdminLedgerPage(e.id)}},{key:"getAdminShipList",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.shipList=[],t.prev=1,t.next=4,this.userService.getAdminShipListByUserId(e).toPromise();case 4:this.shipList=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}))}},{key:"getShipAdminLedgerPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.accountingService.getShipAdminLedger(e,t).toPromise();case 3:this.shipAdminLedgerPage=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}},n,this,[[0,6]])}))}}]),t}(),ue.\u0275fac=function(e){return new(e||ue)(b.Jb(c.a),b.Jb(o.a))},ue.\u0275cmp=b.Db({type:ue,selectors:[["app-ship-admin-ledger"]],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row","m-0"],[1,"col-md-3","p-0"],[3,"admin"],["class","col-md-3",4,"ngIf"],["class","col-md-6",4,"ngIf"],[1,"col-md-3"],[1,"table","border"],[4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"text-right"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[3,"page","getPage"]],template:function(e,t){1&e&&(b.Ob(0,"div",0),b.Ob(1,"span",1),b.yc(2,"Ship Admin Ledger"),b.Nb(),b.Nb(),b.Ob(3,"div",0),b.Ob(4,"div",2),b.Ob(5,"div",3),b.Ob(6,"ship-admin-list",4),b.Yb("admin",function(e){return t.onSelectAdmin(e)}),b.Nb(),b.Nb(),b.wc(7,te,14,2,"div",5),b.wc(8,re,22,3,"div",6),b.Nb(),b.Nb()),2&e&&(b.xb(7),b.hc("ngIf",t.shipList.length>0),b.xb(1),b.hc("ngIf",t.shipAdminLedgerPage))},directives:[Z,s.n,s.m,m.a],pipes:[s.c],styles:[""]}),ue)},{path:"add-income",component:G},{path:"add-expense",component:H},{path:"pay-ship-admin",component:(me=function(){function t(n){e(this,t),this.accountingService=n}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onSelectAdmin",value:function(e){this.user=e,this.getShipAdminLedgerPage(e.id)}},{key:"getShipAdminLedgerPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.accountingService.getShipAdminLedger(e,t).toPromise();case 3:this.shipAdminLedgerPage=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}},n,this,[[0,6]])}))}},{key:"addBalace",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure to add balance "+this.amount+" to "+this.user.name+" Account ")){e.next=11;break}return e.prev=1,e.next=4,this.accountingService.payToShipAdmin(this.user.id,this.amount).toPromise();case 4:this.amount=0,this.getShipAdminLedgerPage(this.user.id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}))}}]),t}(),me.\u0275fac=function(e){return new(e||me)(b.Jb(o.a))},me.\u0275cmp=b.Db({type:me,selectors:[["app-pay-ship-admin"]],decls:11,vars:2,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row","m-0"],[1,"col-md-3","p-0"],[3,"admin"],["class","col-md-6",4,"ngIf"],[1,"col-md-3"],[1,"d-flex","justify-content-center","my-5"],["class","form-inline",4,"ngIf"],[1,"col-md-6"],[1,"table","border"],[1,"text-right"],[4,"ngFor","ngForOf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],[3,"page","getPage"],[1,"form-inline"],[1,"form-group","mb-2"],[1,"form-group","mx-sm-3","mb-2"],["type","number","id","amount","name","amount",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","class","btn btn-primary mb-2",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","mb-2",3,"click"]],template:function(e,t){1&e&&(b.Ob(0,"div",0),b.Ob(1,"span",1),b.yc(2,"Pay to ship"),b.Nb(),b.Nb(),b.Ob(3,"div",0),b.Ob(4,"div",2),b.Ob(5,"div",3),b.Ob(6,"ship-admin-list",4),b.Yb("admin",function(e){return t.onSelectAdmin(e)}),b.Nb(),b.Nb(),b.wc(7,oe,22,3,"div",5),b.Ob(8,"div",6),b.Ob(9,"div",7),b.wc(10,se,7,2,"form",8),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.xb(7),b.hc("ngIf",t.shipAdminLedgerPage),b.xb(3),b.hc("ngIf",t.user))},directives:[Z,s.n,s.m,m.a,d.v,d.l,d.m,d.p,d.b,d.k,d.n],pipes:[s.c],styles:[""]}),me)},{path:"agent-balance",component:A}],ge=((de=function t(){e(this,t)}).\u0275mod=b.Hb({type:de}),de.\u0275inj=b.Gb({factory:function(e){return new(e||de)},imports:[[V.a,I.e.forChild(le)]]}),de)}}])}();