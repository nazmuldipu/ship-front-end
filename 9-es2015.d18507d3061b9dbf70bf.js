(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Hu95:function(t,e,i){"use strict";i.r(e),i.d(e,"ROUTES",function(){return U}),i.d(e,"SeatsModule",function(){return L});var s=i("tyNb"),n=i("3whx"),r=i("mrSG"),a=i("l7+V"),c=i("fXoL"),o=i("Fif/"),d=i("ofXK"),l=i("ar73"),u=i("3Pt+");function h(t,e){1&t&&(c.Ob(0,"small",12),c.yc(1," Seat Number required "),c.Nb())}const b=function(t,e,i){return{disabled:t,"btn-warning":e,"btn-success":i}};let g=(()=>{class t{constructor(t){this.builder=t,this.create=new c.n,this.update=new c.n,this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(t){if(this.ship&&this.ship.id&&this.form.patchValue({ship:{id:this.ship.id}}),this.category&&this.category.id&&this.form.patchValue({category:{id:this.category.id}}),this.seat&&this.seat.id){this.exists=!0;const t=Object.assign({},this.seat);this.form.patchValue(t)}else this.form.controls.seatNumber.setValue(""),this.exists=!1}createForm(){this.form=this.builder.group({seatNumber:["",u.t.required],category:this.builder.group({id:["",u.t.required]}),ship:this.builder.group({id:["",u.t.required]})})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.exists=!1,this.form.reset(),this.ship&&this.form.patchValue({ship:{id:this.ship.id}}),this.category&&this.category.id&&this.form.patchValue({category:{id:this.category.id}}))}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(u.c))},t.\u0275cmp=c.Db({type:t,selectors:[["seat-form"]],inputs:{ship:"ship",category:"category",seat:"seat"},outputs:{create:"create",update:"update"},features:[c.vb],decls:21,vars:10,consts:[[3,"formGroup","ngSubmit","mouseleave"],[1,"form-group"],["for","exampleInputEmail1"],[1,"form-control"],[1,"form-row"],[1,"form-group","col-md-6"],["for","seatNumber"],["id","seatNumber","formControlName","seatNumber",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],[3,"mouseenter"],["type","submit",1,"btn","btn-warning","mx-1",3,"ngClass"],[1,"text-danger"]],template:function(t,e){1&t&&(c.Ob(0,"form",0),c.Yb("ngSubmit",function(){return e.submit()})("mouseleave",function(){return e.mouseoverShifting=!1}),c.Ob(1,"div",1),c.Ob(2,"label",2),c.yc(3,"Ship *"),c.Nb(),c.Ob(4,"label",3),c.yc(5),c.Nb(),c.Nb(),c.Ob(6,"div",1),c.Ob(7,"label",2),c.yc(8,"Category *"),c.Nb(),c.Ob(9,"label",3),c.yc(10),c.Nb(),c.Nb(),c.Ob(11,"div",4),c.Ob(12,"div",5),c.Ob(13,"label",6),c.yc(14,"Seat Number *"),c.Nb(),c.Kb(15,"input",7),c.wc(16,h,2,0,"small",8),c.Nb(),c.Nb(),c.Ob(17,"div",9),c.Ob(18,"span",10),c.Yb("mouseenter",function(){return e.mouseoverShifting=!0}),c.Ob(19,"button",11),c.yc(20),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.hc("formGroup",e.form),c.xb(5),c.Ac(" ",e.ship.name," "),c.xb(5),c.Ac(" ",e.category.name," "),c.xb(6),c.hc("ngIf",(null==e.form.controls.seatNumber.errors?null:e.form.controls.seatNumber.errors.required)&&(e.form.controls.seatNumber.dirty||e.mouseoverShifting)),c.xb(3),c.hc("ngClass",c.nc(6,b,e.form.invalid,e.exists,!e.exists)),c.xb(1),c.Ac(" ",e.exists?"Update":"Create"," "))},directives:[u.v,u.l,u.e,u.b,u.k,u.d,d.n,d.l],styles:[""],changeDetection:0}),t})();function p(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",9),c.Ob(1,"admin-category-list",10),c.Yb("back",function(e){return c.qc(t),c.ac().onCategoryBack(e)})("category",function(e){return c.qc(t),c.ac().onSelectCategory(e)}),c.Nb(),c.Nb()}if(2&t){const t=c.ac();c.xb(1),c.hc("shipId",t.ship.id)}}function m(t,e){if(1&t){const t=c.Pb();c.Ob(0,"seat-form",14),c.Yb("create",function(e){c.qc(t);const i=c.ac(2);return i.onCreate(e,i.ship.id)})("update",function(e){c.qc(t);const i=c.ac(2);return i.onUpdate(e,i.ship.id,i.seat.id)}),c.Nb()}if(2&t){const t=c.ac(2);c.hc("ship",t.ship)("category",t.category)("seat",t.seat)}}function f(t,e){if(1&t&&(c.Ob(0,"div",11),c.Ob(1,"div",9),c.Ob(2,"h4"),c.Ob(3,"span",12),c.yc(4,"Seat Form"),c.Nb(),c.Nb(),c.wc(5,m,1,3,"seat-form",13),c.Nb(),c.Nb()),2&t){const t=c.ac();c.xb(5),c.hc("ngIf",t.ship&&t.category)}}function v(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",17),c.Ob(1,"div",18),c.Yb("click",function(){c.qc(t);const i=e.$implicit;return c.ac(2).onSeatClick(i.id)}),c.yc(2),c.Nb(),c.Nb()}if(2&t){const t=e.$implicit;c.xb(2),c.Ac(" ",t.seatNumber," ")}}function S(t,e){if(1&t&&(c.Ob(0,"div",11),c.Ob(1,"div",9),c.Ob(2,"h4"),c.Ob(3,"span",12),c.yc(4,"Seat List for"),c.Nb(),c.Ob(5,"strong"),c.yc(6),c.Nb(),c.Nb(),c.Ob(7,"div",15),c.wc(8,v,3,1,"div",16),c.Nb(),c.Nb(),c.Nb()),2&t){const t=c.ac();c.xb(6),c.Ac(" ",t.category.name," "),c.xb(2),c.hc("ngForOf",t.seatList)}}let y=(()=>{class t{constructor(t,e,i){this.seatService=t,this.router=e,this.activeRoute=i,this.loading=!1}ngOnInit(){}onSelectShip(t){this.ship=t}onSelectCategory(t){this.category=t,this.seat=null,this.getAdminSeatListByCategoryId(t.id)}getAdminSeatListByCategoryId(t){return Object(r.a)(this,void 0,void 0,function*(){this.seatList=null,yield this.seatService.getAdminSeatListByCategoryId(t).subscribe(t=>{this.seatList=t})})}onCreate(t,e){return Object(r.a)(this,void 0,void 0,function*(){this.loading=!0;try{yield this.seatService.saveAdminSeat(t,e).toPromise(),this.getAdminSeatListByCategoryId(this.category.id),this.loading=!1}catch(i){console.log(i)}})}onUpdate(t,e,i){return Object(r.a)(this,void 0,void 0,function*(){this.loading=!0;try{yield this.seatService.updateAdminSeat(t,e,i).toPromise(),this.seat=null,this.getAdminSeatListByCategoryId(this.category.id),this.loading=!1}catch(s){console.log(s)}})}onCategoryBack(t){this.ship=null,this.category=null}onSeatClick(t){const e=this.seatList.find(e=>e.id==t);this.seat=e}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(a.a),c.Jb(s.b),c.Jb(s.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-add"]],decls:13,vars:4,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-3"],[3,"mode","ship"],[1,"col-md-9"],[1,"row","pt-0","px-2","pb-2"],["class","border p-2",4,"ngIf"],["class","col-md-6 p-2",4,"ngIf"],[1,"border","p-2"],[3,"shipId","back","category"],[1,"col-md-6","p-2"],[1,"font-weight-light"],[3,"ship","category","seat","create","update",4,"ngIf"],[3,"ship","category","seat","create","update"],[1,"row","m-0"],["class","col-md-1 col-2 p-0",4,"ngFor","ngForOf"],[1,"col-md-1","col-2","p-0"],[1,"seat-box",3,"click"]],template:function(t,e){1&t&&(c.Ob(0,"div",0),c.Ob(1,"span",1),c.yc(2,"Add Seat"),c.Nb(),c.Nb(),c.Ob(3,"div",0),c.Ob(4,"div",2),c.Ob(5,"div",3),c.Ob(6,"admin-ship-list",4),c.Yb("ship",function(t){return e.onSelectShip(t)}),c.Nb(),c.Nb(),c.Ob(7,"div",5),c.Ob(8,"div",6),c.wc(9,p,2,1,"div",7),c.Nb(),c.Ob(10,"div",2),c.wc(11,f,6,1,"div",8),c.wc(12,S,9,2,"div",8),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.xb(6),c.hc("mode",4),c.xb(3),c.hc("ngIf",e.ship),c.xb(2),c.hc("ngIf",e.category),c.xb(1),c.hc("ngIf",e.seatList))},directives:[o.a,d.n,l.a,g,d.m],styles:[".seat-box[_ngcontent-%COMP%]{border:1px solid #000;border-radius:4px;cursor:pointer;margin:1px;padding:1px;text-align:center;font-size:12px}.seat-box[_ngcontent-%COMP%]:hover{background-color:#e0ffff}"]}),t})();function A(t,e){if(1&t&&(c.Ob(0,"h3",12),c.yc(1),c.Nb()),2&t){const t=c.ac();c.xb(1),c.Bc("",null==t.ship?null:t.ship.shipNumber,"-",null==t.ship?null:t.ship.name," seat list")}}function O(t,e){if(1&t){const t=c.Pb();c.Ob(0,"admin-category-list",15),c.Yb("back",function(e){return c.qc(t),c.ac(2).onCategoryBack(e)})("category",function(e){return c.qc(t),c.ac(2).onSelectCategory(e)}),c.Nb()}if(2&t){const t=c.ac(2);c.hc("shipId",t.ship.id)}}function N(t,e){if(1&t&&(c.Ob(0,"div",13),c.wc(1,O,1,1,"admin-category-list",14),c.Nb()),2&t){const t=c.ac();c.xb(1),c.hc("ngIf",t.ship)}}function x(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",16),c.yc(1),c.Ob(2,"button",17),c.Yb("click",function(){return c.qc(t),c.ac().clear()}),c.yc(3,"Clear"),c.Nb(),c.Nb()}if(2&t){const t=c.ac();c.xb(1),c.Ac(" ",t.message," ")}}function w(t,e){if(1&t&&(c.Ob(0,"h5"),c.Ob(1,"span",18),c.yc(2,"Seat List for"),c.Nb(),c.Ob(3,"strong"),c.yc(4),c.Nb(),c.Nb()),2&t){const t=c.ac();c.xb(4),c.Ac(" ",null==t.category?null:t.category.name," ")}}function I(t,e){if(1&t&&(c.Ob(0,"div",19),c.Ob(1,"div",20),c.yc(2),c.Nb(),c.Nb()),2&t){const t=e.$implicit;c.xb(2),c.Ac(" ",t.seatNumber," ")}}const U=[{path:"add",component:y},{path:"add/:id",component:y},{path:":id",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Db({type:t,selectors:[["app-details"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Ob(0,"p"),c.yc(1," details works!\n"),c.Nb())},styles:[""]}),t})()},{path:"",component:(()=>{class t{constructor(t){this.seatService=t,this.message=""}ngOnInit(){}onSelectShip(t){this.ship=t}onSelectCategory(t){this.category=t,this.getAdminSeatListByCategoryId(t.id)}getAdminSeatListByCategoryId(t){return Object(r.a)(this,void 0,void 0,function*(){try{this.seatList=yield this.seatService.getAdminSeatListByCategoryId(t).toPromise()}catch(e){console.log(e)}})}onCategoryBack(t){this.ship=null}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(a.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-list"]],decls:14,vars:6,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-3"],[3,"mode","ship"],[1,"col-md-9"],["class","text-center",4,"ngIf"],["class","border p-2",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[4,"ngIf"],[1,"row","m-0"],["class","col-md-1 col-2 p-1",4,"ngFor","ngForOf"],[1,"text-center"],[1,"border","p-2"],[3,"shipId","back","category",4,"ngIf"],[3,"shipId","back","category"],["role","alert",1,"alert","alert-success"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"font-weight-light"],[1,"col-md-1","col-2","p-1"],[1,"seat-box"]],template:function(t,e){1&t&&(c.Ob(0,"div",0),c.Ob(1,"span",1),c.yc(2,"Seat List"),c.Nb(),c.Nb(),c.Ob(3,"div",0),c.Ob(4,"div",2),c.Ob(5,"div",3),c.Ob(6,"admin-ship-list",4),c.Yb("ship",function(t){return e.onSelectShip(t)}),c.Nb(),c.Nb(),c.Ob(7,"div",5),c.wc(8,A,2,2,"h3",6),c.wc(9,N,2,1,"div",7),c.wc(10,x,4,1,"div",8),c.wc(11,w,5,1,"h5",9),c.Ob(12,"div",10),c.wc(13,I,3,1,"div",11),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.xb(6),c.hc("mode",3),c.xb(2),c.hc("ngIf",e.ship),c.xb(1),c.hc("ngIf",e.ship),c.xb(1),c.hc("ngIf",e.message.length>0),c.xb(1),c.hc("ngIf",null==e.seatList?null:e.seatList.length),c.xb(2),c.hc("ngForOf",e.seatList))},directives:[o.a,d.n,d.m,l.a],styles:[".seat-box[_ngcontent-%COMP%]{border:1px solid #000;border-radius:4px;margin:10px 10px 0 0;padding:5px 10px;text-align:center}"]}),t})()}];let L=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[n.a,s.e.forChild(U)]]}),t})()},HymT:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var s=i("uWAI"),n=i("tk/3"),r=i("fXoL"),a=i("tyNb");let c=(()=>{class t{constructor(t,e){this.dataSource=t,this.router=e,this.serviceUrl="api/v1/ships",this.serviceAdminUrl="api/v1/admin/ships",this.serviceAdminAgentUrl="api/v1/adminAgent/ships",this.serviceServiceAdminUrl="api/v1/serviceAdmin/ships",this.serviceServiceAgentUrl="api/v1/serviceAgent/ships"}getAllShip(t=0){const e=(new n.c).set("page",t.toString());return this.dataSource.sendRequest("GET",this.serviceUrl,null,!1,e)}getAdminShipPage(t=0){const e=(new n.c).set("page",t.toString());return this.dataSource.sendRequest("GET",this.serviceAdminUrl,null,!0,e)}getAdminShip(t){return this.dataSource.sendRequest("GET",this.serviceAdminUrl+"/"+t,null,!0,null)}saveAdminShip(t){return this.dataSource.sendRequest("POST",this.serviceAdminUrl,t,!0,null)}updateAdminShip(t,e){return this.dataSource.sendRequest("PUT",this.serviceAdminUrl+"/"+t,e,!0,null)}getAdminShipMap(t,e,i){const s=(new n.c).set("startDate",e).set("endDate",i);return this.dataSource.sendRequest("GET",this.serviceAdminUrl+"/shipMap/"+t,null,!0,s)}updateAdminShipMap(t,e,i){const s=(new n.c).set("date",e).set("value",i?"true":"false");return this.dataSource.sendRequest("PUT",this.serviceAdminUrl+"/updateMap/"+t,null,!0,s)}getAdminAgentShips(t=0){const e=(new n.c).set("page",t.toString());return this.dataSource.sendRequest("GET",this.serviceAdminAgentUrl,null,!0,e)}getServiceAdminShips(){return this.dataSource.sendRequest("GET",this.serviceServiceAdminUrl+"/myShips",null,!0,null)}getServiceAgentShips(){return this.dataSource.sendRequest("GET",this.serviceServiceAgentUrl+"/myShips",null,!0,null)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(s.a),r.Vb(a.b))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"l7+V":function(t,e,i){"use strict";i.d(e,"a",function(){return a});var s=i("uWAI"),n=i("tk/3"),r=i("fXoL");let a=(()=>{class t{constructor(t){this.dataSource=t,this.serviceUrl="api/v1/seats",this.adminUrl="api/v1/admin/seats",this.agentUrl="api/v1/adminAgent/seats",this.serviceAdminUrl="api/v1/serviceAdmin/seats",this.serviceAgentUrl="api/v1/serviceAgent/seats"}saveAdminSeat(t,e){return this.dataSource.sendRequest("POST",this.adminUrl+"/"+e,t,!0,null)}updateAdminSeat(t,e,i){return this.dataSource.sendRequest("PUT",this.adminUrl+`/update/${e}/${i}`,t,!0,null)}getAdminSeatPageByShiplId(t,e){const i=(new n.c).set("page",e.toString());return this.dataSource.sendRequest("GET",this.adminUrl+"/all/"+t,null,!0,i)}getAdminSeatListByShiplId(t){return this.dataSource.sendRequest("GET",this.adminUrl+"/list/"+t,null,!0,null)}getAdminSeatListByCategoryId(t){return this.dataSource.sendRequest("GET",this.adminUrl+"/listByCategory/"+t,null,!0,null)}getAdminAvailableSeatListByShiplId(t,e){const i=(new n.c).set("date",e);return this.dataSource.sendRequest("GET",this.adminUrl+"/available/"+t,null,!0,i)}getAdminSeatStatusListByShiplId(t,e){const i=(new n.c).set("date",e);return this.dataSource.sendRequest("GET",this.adminUrl+"/statusList/"+t,null,!0,i)}getAdminSeatPriceMapBySeatId(t,e,i){const s=(new n.c).set("startDate",e).set("endDate",i);return this.dataSource.sendRequest("GET",this.adminUrl+"/priceMap/"+t,null,!0,s)}getAdminAgentAvailableSeatListByShiplId(t,e){const i=(new n.c).set("date",e);return this.dataSource.sendRequest("GET",this.agentUrl+"/available/"+t,null,!0,i)}getAdminAgentSeatStatusListByShiplId(t,e){const i=(new n.c).set("date",e);return this.dataSource.sendRequest("GET",this.agentUrl+"/statusList/"+t,null,!0,i)}getServiceAdminAvailableSeatListByShiplId(t,e){const i=(new n.c).set("date",e);return this.dataSource.sendRequest("GET",this.serviceAdminUrl+"/available/"+t,null,!0,i)}getServiceAdminSeatStatusListByShiplId(t,e){const i=(new n.c).set("date",e);return this.dataSource.sendRequest("GET",this.serviceAdminUrl+"/statusList/"+t,null,!0,i)}getServiceAgentAvailableSeatListByShiplId(t,e){const i=(new n.c).set("date",e);return this.dataSource.sendRequest("GET",this.serviceAgentUrl+"/available/"+t,null,!0,i)}getServiceAgentSeatStatusListByShiplId(t,e){const i=(new n.c).set("date",e);return this.dataSource.sendRequest("GET",this.serviceAgentUrl+"/statusList/"+t,null,!0,i)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(s.a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},z3bE:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var s=i("fXoL");let n=(()=>{class t{constructor(){}getDatesBetween(t,e){const i=new Date(t),s=new Date(e);s.setDate(s.getDate()-1);let n=[];for(;i.getTime()<=s.getTime();){const t=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate();n.push(t),i.setDate(i.getDate()+1)}return n}getDateString(t){const e=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+"-"+e+"-"+i}getDateStringFromDateObj(t){return t.year+"-"+(t.month<10?"0"+t.month:t.month)+"-"+(t.day<10?"0"+t.day:t.day)}getTimeStringFromTimeObj(t){return t.hour+":"+t.minute}dynamicSortObject(t){let e=t.split("."),i=e.length;if(i<2){var s=1;return"-"===t[0]&&(s=-1,t=t.substr(1)),function(e,i){return(e[t]<i[t]?-1:e[t]>i[t]?1:0)*s}}if(i>=2)return function(t,s){for(var n=0;n<i;)t=t[e[n]],s=s[e[n]],n++;return t<s?-1:t>s?1:0}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);