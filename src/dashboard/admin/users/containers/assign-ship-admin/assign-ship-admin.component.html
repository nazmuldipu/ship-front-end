<div class="container-fluid">
  <span class="row px-3 details-title text-left"> Assign Ship Admin </span>
</div>

<div class="container">
  <div class="row mb-2">

    <div class="col-md-4" *ngIf="userShipList.length > 0">
      <h4>{{ user.name }} Ship list</h4>
      <table class="table border">
        <thead>
          <tr>
            <th>
              Ship No.
            </th>
            <th>
              Name
            </th>
            <th>Role</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ship of userShipList">
            <td>{{ ship.shipNumber }}</td>
            <td>{{ ship.name }}</td>
            <td>
              <span *ngFor="let role of user?.roles; let i = index">
                {{ role.name }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="col-md-4 border" *ngIf="user || ship">
      <h4> Assign Ship Admin</h4>
      <div class="form-group">
        <label for="userName">User Name</label>
        <label class="form-control" id="userName">{{user?.name}}</label>
      </div>
      <div class="form-group">
        <label for="userName">Ship Name</label>
        <label class="form-control" id="userName">{{ship?.name}}</label>
      </div>
      <button class="btn btn-sm btn-danger mb-2 mx-1" (click)="onClear()">clear</button>
      <button *ngIf="user && ship" class="btn btn-sm btn-primary mb-2 mx-1" (click)="onSubmit()">Submit</button>
    </div>

    <div class="col-md-4" *ngIf="shipUserList.length > 0">
      <h4>{{ ship.shipNumber }}-{{ ship.name }} User list</h4>
      <table class="table border">
        <thead>
          <tr>
            <th>
              Name
            </th>
            <th>
              Phone
            </th>
            <th>Role</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of shipUserList">
            <td>{{ user.name }}</td>
            <td>{{ user.phoneNumber }}</td>
            <td>
              <span *ngFor="let role of user.roles">{{ role.name }}, </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="text-center" style="background: #75edf1;">User list</h3>
      <table class="table border">
        <thead>
          <tr>
            <th>Name</th>
            <th>Phone, Email</th>
            <th>Staus</th>
            <th></th>
          </tr>
        </thead>
        <tbody *ngIf="userPage">
          <tr *ngFor="let user of userPage.content">
            <td>
              {{ user.name }}
              <br />
              <span class="badge badge-pill" [ngClass]="i % 2 == 0 ? 'badge-success' : 'badge-info'" *ngFor="let role of user?.roles; let i = index">
                {{ role.name }}
              </span>
            </td>
            <td>
              {{ user.phoneNumber }}
              <br /> {{ user.email }}
            </td>
            <td>{{ user.enabled ? 'ACTIVE' : 'INACTIVE' }}</td>
            <td>
              <button class="btn btn-warning btn-sm" (click)="onSelectUser(user.id)">
                <i class="fa fa-edit"></i>
              </button>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="4">
              <pagination *ngIf="userPage != null" [page]="userPage" (getPage)="getUserPage($event)">
              </pagination>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
    <div class="col-md-6">
      <h3 class="text-center" style="background: #75edf1;">Ship list</h3>
      <table class="table border">
        <thead>
          <tr>
            <th>Ship No.</th>
            <th>Name</th>
            <th>Phone</th>
            <th>Enabled</th>
            <th>Admin</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ship of shipPage?.content">
            <td>{{ ship.shipNumber }}</td>
            <td>{{ ship.name }}</td>
            <td>{{ ship.phoneNumber }}</td>
            <td>{{ ship.enabled }}</td>
            <td>{{ship?.admin?.name}}
              <br> {{ship?.admin?.phoneNumber}}</td>
            <td>
              <button class="btn btn-warning btn-sm" (click)="onSelectShip(ship.id)">
                <i class="fa fa-edit"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>