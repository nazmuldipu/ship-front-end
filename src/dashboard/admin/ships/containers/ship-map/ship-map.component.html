<div class="container-fluid">
  <span class="row px-3 details-title text-left">Ship map</span>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-3">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <i class="fa fa-calendar"></i>
          </div>
        </div>
        <input type="text" class="form-control" name="daterangeInput" daterangepicker [options]="options" (selected)="selectedDate($event)"
        />
      </div>
      <admin-ship-list (ship)="onSelectShip($event)"></admin-ship-list>
    </div>
    <div class="col-md-9 mb-5">
      <h3 class="text-center" *ngIf="ship">Ship map for {{ship.shipNumber}} - {{ship.name}}</h3>
      <table class="table border table-hover mt-2" *ngIf="shipMap">
        <thead>
          <tr>
            <th>Date</th>
            <th class="text-right">Status</th>
            <th class="text-right">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of (shipMap | keyvalue)">
            <td>{{ item.key | date: 'd MMM,yy : EEE' }}</td>
            <td class="text-right">
              <i class="fa" [ngClass]="{'fa-paper-plane-o': item.value,'fa-ban': !item.value}"></i> {{ item.value ? 'Ship is going' : "Ship is not going"}}</td>
            <td class="text-right">
              <button *ngIf="!item.value" class="btn btn-sm btn-success" (click)="onAction(ship.id, item.key, true)">Run ship</button>
              <button *ngIf="item.value" class="btn btn-sm btn-danger" (click)="onAction(ship.id, item.key, false)">Stop ship</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>