!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{HymT:function(t,r,i){"use strict";i.d(r,"a",function(){return o});var c=i("uWAI"),s=i("tk/3"),b=i("fXoL"),a=i("tyNb"),o=function(){var t=function(){function t(n,r){e(this,t),this.dataSource=n,this.router=r,this.serviceUrl="api/v1/ships",this.serviceAdminUrl="api/v1/admin/ships",this.serviceAdminAgentUrl="api/v1/adminAgent/ships",this.serviceServiceAdminUrl="api/v1/serviceAdmin/ships",this.serviceServiceAgentUrl="api/v1/serviceAgent/ships"}return n(t,[{key:"getAllShip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new s.c).set("page",e.toString());return this.dataSource.sendRequest("GET",this.serviceUrl,null,!1,t)}},{key:"getAdminShipPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new s.c).set("page",e.toString());return this.dataSource.sendRequest("GET",this.serviceAdminUrl,null,!0,t)}},{key:"getAdminShip",value:function(e){return this.dataSource.sendRequest("GET",this.serviceAdminUrl+"/"+e,null,!0,null)}},{key:"saveAdminShip",value:function(e){return this.dataSource.sendRequest("POST",this.serviceAdminUrl,e,!0,null)}},{key:"updateAdminShip",value:function(e,t){return this.dataSource.sendRequest("PUT",this.serviceAdminUrl+"/"+e,t,!0,null)}},{key:"getAdminShipMap",value:function(e,t,n){var r=(new s.c).set("startDate",t).set("endDate",n);return this.dataSource.sendRequest("GET",this.serviceAdminUrl+"/shipMap/"+e,null,!0,r)}},{key:"updateAdminShipMap",value:function(e,t,n){var r=(new s.c).set("date",t).set("value",n?"true":"false");return this.dataSource.sendRequest("PUT",this.serviceAdminUrl+"/updateMap/"+e,null,!0,r)}},{key:"getAdminAgentShips",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new s.c).set("page",e.toString());return this.dataSource.sendRequest("GET",this.serviceAdminAgentUrl,null,!0,t)}},{key:"getServiceAdminShips",value:function(){return this.dataSource.sendRequest("GET",this.serviceServiceAdminUrl+"/myShips",null,!0,null)}},{key:"getServiceAgentShips",value:function(){return this.dataSource.sendRequest("GET",this.serviceServiceAgentUrl+"/myShips",null,!0,null)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b.Vb(c.a),b.Vb(a.b))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},IxGd:function(t,r,i){"use strict";i.r(r),i.d(r,"ROUTES",function(){return ve}),i.d(r,"UsersModule",function(){return Ne});var c=i("tyNb"),s=i("3whx"),b=i("mrSG"),a=i("/7iW"),o=i("fXoL"),u=i("3Pt+"),l=i("ofXK"),h=i("uEz7");function d(e,t){1&e&&o.Kb(0,"div",25)}function m(e,t){if(1&e&&(o.Ob(0,"span",29),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.hc("ngClass",t.index%2==0?"badge-success":"badge-info"),o.xb(1),o.Ac(" ",n.name," ")}}function g(e,t){if(1&e){var n=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Kb(3,"br"),o.wc(4,m,2,2,"span",26),o.Nb(),o.Ob(5,"td"),o.yc(6),o.Kb(7,"br"),o.yc(8),o.Nb(),o.Ob(9,"td"),o.yc(10),o.bc(11,"date"),o.Nb(),o.Ob(12,"td"),o.yc(13),o.Nb(),o.Ob(14,"td"),o.Ob(15,"button",27),o.Yb("click",function(){o.qc(n);var e=t.$implicit;return o.ac().onEdit(e.id)}),o.Kb(16,"i",28),o.Nb(),o.Nb(),o.Nb()}if(2&e){var r=t.$implicit;o.xb(2),o.Ac(" ",r.name," "),o.xb(2),o.hc("ngForOf",null==r?null:r.roles),o.xb(2),o.Ac(" ",r.phoneNumber," "),o.xb(2),o.Ac(" ",r.email," "),o.xb(2),o.zc(o.dc(11,6,r.created,"MMM d, y, h:mm:ss a")),o.xb(3),o.zc(r.enabled?"ACTIVE":"INACTIVE")}}function f(e,t){if(1&e){var n=o.Pb();o.Ob(0,"pagination",30),o.Yb("getPage",function(e){o.qc(n);var t=o.ac();return t.getUserPage(e,t.query,t.role)}),o.Nb()}if(2&e){var r=o.ac();o.hc("page",r.userPage)}}function p(e,t){if(1&e&&(o.Ob(0,"span"),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.xb(1),o.Ac(" ",n.name,", ")}}function v(e,t){if(1&e){var n=o.Pb();o.Ob(0,"div",31),o.Ob(1,"div",32),o.Ob(2,"h4",33),o.yc(3,"User details"),o.Nb(),o.Ob(4,"table",34),o.Ob(5,"tr"),o.Ob(6,"td"),o.yc(7,"id"),o.Nb(),o.Ob(8,"td"),o.yc(9),o.Nb(),o.Nb(),o.Ob(10,"tr"),o.Ob(11,"td"),o.yc(12,"name"),o.Nb(),o.Ob(13,"td"),o.yc(14),o.Nb(),o.Nb(),o.Ob(15,"tr"),o.Ob(16,"td"),o.yc(17,"Username"),o.Nb(),o.Ob(18,"td"),o.yc(19),o.Nb(),o.Nb(),o.Ob(20,"tr"),o.Ob(21,"td"),o.yc(22,"Email"),o.Nb(),o.Ob(23,"td"),o.yc(24),o.Nb(),o.Nb(),o.Ob(25,"tr"),o.Ob(26,"td"),o.yc(27,"Phone Number"),o.Nb(),o.Ob(28,"td"),o.yc(29),o.Nb(),o.Nb(),o.Ob(30,"tr"),o.Ob(31,"td"),o.yc(32,"Enabled"),o.Nb(),o.Ob(33,"td"),o.Kb(34,"i",35),o.Nb(),o.Nb(),o.Ob(35,"tr"),o.Ob(36,"td"),o.yc(37,"Roles"),o.Nb(),o.Ob(38,"td"),o.wc(39,p,2,1,"span",21),o.Nb(),o.Nb(),o.Nb(),o.Ob(40,"span"),o.Ob(41,"a",36),o.Yb("click",function(){o.qc(n);var e=o.ac();return e.chageRole(e.user.id,"User")}),o.yc(42," User "),o.Nb(),o.Ob(43,"a",36),o.Yb("click",function(){o.qc(n);var e=o.ac();return e.chageRole(e.user.id,"Service Agent")}),o.yc(44," Ship Agent "),o.Nb(),o.Ob(45,"a",37),o.Yb("click",function(){o.qc(n);var e=o.ac();return e.chageRole(e.user.id,"Service Admin")}),o.yc(46," Ship Admin "),o.Nb(),o.Ob(47,"a",37),o.Yb("click",function(){o.qc(n);var e=o.ac();return e.chageRole(e.user.id,"Agent")}),o.yc(48," Agent "),o.Nb(),o.Ob(49,"button",38),o.Yb("click",function(){o.qc(n);var e=o.ac();return e.activate(e.user.id)}),o.Kb(50,"i",39),o.Nb(),o.Ob(51,"button",40),o.Yb("click",function(){return o.qc(n),o.ac().clear()}),o.yc(52," Close "),o.Nb(),o.Nb(),o.Nb(),o.Nb()}if(2&e){var r=o.ac();o.xb(9),o.zc(r.user.id),o.xb(5),o.zc(r.user.name),o.xb(5),o.zc(r.user.username),o.xb(5),o.zc(r.user.email),o.xb(5),o.zc(r.user.phoneNumber),o.xb(5),o.hc("ngClass",r.user.enabled?"fa-check":"fa-times"),o.xb(5),o.hc("ngForOf",r.user.roles),o.xb(10),o.hc("ngClass",r.user.enabled?"btn-success":"btn-danger")}}var N,O,y=((O=function(){function t(n){e(this,t),this.userService=n,this.loading=!1,console.log("Yureka")}return n(t,[{key:"ngOnInit",value:function(){this.getUserPage(),console.log("OK")}},{key:"getUserPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.loading=!0,r.prev=1,r.next=4,this.userService.findByUsernameOrPhoneNumber(t,n,e).toPromise();case 4:this.userPage=r.sent,this.loading=!1,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}},r,this,[[1,8]])}))}},{key:"searchUser",value:function(){this.getUserPage(0,this.query,this.role)}},{key:"getUser",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.userService.getAdminUser(e).toPromise();case 3:this.user=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"onRoleChange",value:function(e){this.role=e.length>0?e:null,this.getUserPage(0,null,this.role)}},{key:"onEdit",value:function(e){var t=this.userPage.content.find(function(t){return t.id===e});this.user=t}},{key:"chageRole",value:function(e,t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.userService.changeAdminUserRole(e,t).toPromise();case 3:r=n.sent,this.userPage.content.splice(this.userPage.content.findIndex(function(e){return e.id===r.id}),1,r),this.user&&this.getUser(this.user.id),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}},n,this,[[0,7]])}))}},{key:"activate",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.user?!this.user.enabled:!this.userPage.content.find(function(t){return t.id===e}).enabled,t.prev=1,t.next=4,this.userService.changeAdminUserEnable(e,n).toPromise();case 4:r=t.sent,this.userPage.content.splice(this.userPage.content.findIndex(function(e){return e.id===r.id}),1,r),this.user&&this.getUser(this.user.id),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}))}},{key:"clear",value:function(){this.user=null}}]),t}()).\u0275fac=function(e){return new(e||O)(o.Jb(a.a))},O.\u0275cmp=o.Db({type:O,selectors:[["app-list"]],decls:50,vars:5,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"pull-right"],[1,"form-control",3,"change"],["value","","selected",""],["value","User"],["value","Service Agent"],["value","Service Admin"],["value","Agent"],["value","Admin"],[1,"row","m-0"],["class","offset-md-3 col-md-6 p-2",4,"ngIf"],[1,"col-md-7"],[1,"mx-3","my-1",3,"ngSubmit"],[1,"input-group","mb-2"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],["type","text","id","userQuery","name","userQuery","placeholder","User name or phone",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-hover","table-responsive-sm","shadow-sm"],[1,"pl-3"],[4,"ngFor","ngForOf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],["class","col-md-5",4,"ngIf"],[1,"offset-md-3","col-md-6","p-2"],["class","badge badge-pill",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"badge","badge-pill",3,"ngClass"],[3,"page","getPage"],[1,"col-md-5"],[1,"p-4","shadow-sm"],[1,"text-center"],[1,"table"],[1,"fa",3,"ngClass"],[1,"btn","btn-info","btn-sm","raised","mr-1",3,"click"],[1,"btn","btn-success","btn-sm","raised","mr-1",3,"click"],[1,"btn","btn-sm","raised",3,"ngClass","click"],[1,"fa","fa-power-off"],[1,"btn","btn-sm","btn-danger","float-right",3,"click"]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Ob(1,"span",1),o.yc(2," All User "),o.Ob(3,"span",2),o.Ob(4,"select",3),o.Yb("change",function(e){return t.onRoleChange(e.target.value)}),o.Ob(5,"option",4),o.yc(6,"All"),o.Nb(),o.Ob(7,"option",5),o.yc(8,"User"),o.Nb(),o.Ob(9,"option",6),o.yc(10,"Ship Agent"),o.Nb(),o.Ob(11,"option",7),o.yc(12,"Ship Admin"),o.Nb(),o.Ob(13,"option",8),o.yc(14,"Hotelswave Agent"),o.Nb(),o.Ob(15,"option",9),o.yc(16,"Admin "),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(17,"div",0),o.Ob(18,"div",10),o.wc(19,d,1,0,"div",11),o.Nb(),o.Ob(20,"div",10),o.Ob(21,"div",12),o.Ob(22,"form",13),o.Yb("ngSubmit",function(){return t.searchUser()}),o.Ob(23,"div",14),o.Ob(24,"div",15),o.Ob(25,"div",16),o.Kb(26,"i",17),o.yc(27,"\xa0 Search "),o.Nb(),o.Nb(),o.Ob(28,"input",18),o.Yb("ngModelChange",function(e){return t.query=e}),o.Nb(),o.Nb(),o.Nb(),o.Ob(29,"table",19),o.Ob(30,"thead"),o.Ob(31,"tr"),o.Ob(32,"th",20),o.yc(33,"Name"),o.Nb(),o.Ob(34,"th"),o.yc(35,"Phone "),o.Kb(36,"br"),o.yc(37,"Email "),o.Nb(),o.Ob(38,"th"),o.yc(39,"Registration time"),o.Nb(),o.Ob(40,"th"),o.yc(41,"Staus"),o.Nb(),o.Kb(42,"th"),o.Nb(),o.Nb(),o.Ob(43,"tbody"),o.wc(44,g,17,9,"tr",21),o.Nb(),o.Ob(45,"tfoot"),o.Ob(46,"tr"),o.Ob(47,"td",22),o.wc(48,f,1,1,"pagination",23),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.wc(49,v,53,8,"div",24),o.Nb(),o.Nb()),2&e&&(o.xb(19),o.hc("ngIf",t.user),o.xb(9),o.hc("ngModel",t.query),o.xb(16),o.hc("ngForOf",null==t.userPage?null:t.userPage.content),o.xb(4),o.hc("ngIf",null!=t.userPage),o.xb(1),o.hc("ngIf",t.user))},directives:[u.o,u.u,l.n,u.v,u.l,u.m,u.b,u.k,u.n,l.m,l.l,h.a],pipes:[l.e],styles:[""]}),O),x=((N=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||N)},N.\u0275cmp=o.Db({type:N,selectors:[["app-add"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Ob(0,"p"),o.yc(1," add works!\n"),o.Nb())},styles:[""]}),N);function P(e,t){1&e&&(o.Ob(0,"small",16),o.yc(1," Name required "),o.Nb())}function S(e,t){if(1&e&&(o.Ob(0,"small",16),o.Ob(1,"div",17),o.yc(2," Phone number required "),o.Nb(),o.Ob(3,"div",17),o.yc(4," Phone number format 01934953023 "),o.Nb(),o.Nb()),2&e){var n=o.ac();o.xb(1),o.hc("hidden",!n.form.controls.phoneNumber.errors.required),o.xb(2),o.hc("hidden",!n.form.controls.phoneNumber.errors.pattern)}}function w(e,t){1&e&&(o.Ob(0,"small",16),o.yc(1," Commission required "),o.Nb())}function k(e,t){if(1&e){var n=o.Pb();o.Ob(0,"button",18),o.Yb("click",function(){o.qc(n);var e=o.ac();return e.onRemoveAgent(e.user.id)}),o.yc(1," Remove this agent "),o.Nb()}}i("zdEN");var A,U=function(e,t,n){return{disabled:e,"btn-warning":t,"btn-success":n}},I=((A=function(){function t(n){e(this,t),this.builder=n,this.create=new o.n,this.removeAgent=new o.n,this.exists=!1,this.createForm()}return n(t,[{key:"ngOnChanges",value:function(e){e.user&&this.user&&this.user.id&&(this.exists=!0,this.form.patchValue(Object.assign({},{name:this.user.name,phoneNumber:this.user.phoneNumber,email:this.user.email,commission:this.user.commission})))}},{key:"createForm",value:function(){this.form=this.builder.group({name:["",u.t.required],phoneNumber:["",[u.t.required,u.t.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],email:"",commission:["",u.t.required]})}},{key:"submit",value:function(){if(this.form.valid){if(this.exists){var e=Object.assign(Object.assign({},this.user),this.form.value);this.create.emit(e)}else this.create.emit(this.form.value);this.onClear()}}},{key:"onRemoveAgent",value:function(e){this.removeAgent.emit(e),this.onClear()}},{key:"onClear",value:function(){this.form.reset(),this.exists=!1}}]),t}()).\u0275fac=function(e){return new(e||A)(o.Jb(u.c))},A.\u0275cmp=o.Db({type:A,selectors:[["admin-agent-form"]],inputs:{user:"user"},outputs:{create:"create",removeAgent:"removeAgent"},features:[o.vb],decls:27,vars:11,consts:[[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["id","name","placeholder","Name","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","phone"],["placeholder","Phone","id","phone","maxlength","11","formControlName","phoneNumber",1,"form-control"],["for","email"],["type","email","id","email","placeholder","Email","formControlName","email",1,"form-control"],["for","commission"],["type","number","id","commission","placeholder","Commission","formControlName","commission",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight","my-2","mb-5"],["type","submit",1,"btn","btn-sm","mx-1",3,"ngClass"],["type","button","class","btn btn-sm btn-success mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-danger","mx-1",3,"click"],[1,"text-danger"],[3,"hidden"],["type","button",1,"btn","btn-sm","btn-success","mx-1",3,"click"]],template:function(e,t){1&e&&(o.Ob(0,"form",0),o.Yb("ngSubmit",function(){return t.submit()}),o.Ob(1,"div",1),o.Ob(2,"div",2),o.Ob(3,"label",3),o.yc(4,"Name *"),o.Nb(),o.Kb(5,"input",4),o.wc(6,P,2,0,"small",5),o.Nb(),o.Ob(7,"div",2),o.Ob(8,"label",6),o.yc(9,"Phone *"),o.Nb(),o.Kb(10,"input",7),o.wc(11,S,5,2,"small",5),o.Nb(),o.Ob(12,"div",2),o.Ob(13,"label",8),o.yc(14,"Email"),o.Nb(),o.Kb(15,"input",9),o.Nb(),o.Ob(16,"div",2),o.Ob(17,"label",10),o.yc(18,"Commission in percent* [for no commission type -1]"),o.Nb(),o.Kb(19,"input",11),o.wc(20,w,2,0,"small",5),o.Nb(),o.Nb(),o.Ob(21,"div",12),o.Ob(22,"button",13),o.yc(23),o.Nb(),o.wc(24,k,2,0,"button",14),o.Ob(25,"button",15),o.Yb("click",function(){return t.onClear()}),o.yc(26," Clear "),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.hc("formGroup",t.form),o.xb(6),o.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),o.xb(5),o.hc("ngIf",t.form.controls.phoneNumber.errors&&t.form.controls.phoneNumber.touched),o.xb(9),o.hc("ngIf",t.form.controls.commission.errors&&t.form.controls.commission.touched),o.xb(2),o.hc("ngClass",o.nc(7,U,t.form.invalid,t.exists,!t.exists)),o.xb(1),o.Ac(" ",t.exists?"Update":"Create"," User "),o.xb(1),o.hc("ngIf",t.exists))},directives:[u.v,u.l,u.e,u.b,u.k,u.d,l.n,u.h,u.p,l.l],styles:[""]}),A);function R(e,t){if(1&e){var n=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Nb(),o.Ob(3,"td"),o.yc(4),o.Nb(),o.Ob(5,"td"),o.yc(6),o.Nb(),o.Ob(7,"td"),o.yc(8),o.Nb(),o.Ob(9,"td"),o.Ob(10,"button",10),o.Yb("click",function(){o.qc(n);var e=t.$implicit;return o.ac().onSelect(e.id)}),o.Kb(11,"i",11),o.Nb(),o.Nb(),o.Nb()}if(2&e){var r=t.$implicit;o.xb(2),o.zc(r.name),o.xb(2),o.zc(r.phoneNumber),o.xb(2),o.zc(r.email),o.xb(2),o.zc(r.commission)}}var C,q=((C=function(){function t(n){e(this,t),this.userService=n}return n(t,[{key:"ngOnInit",value:function(){this.getUserPage()}},{key:"getUserPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.userService.getAdminAgents(e).toPromise();case 3:this.userPage=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"onCreate",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.userService.createAdminAgent(e).toPromise();case 3:this.getUserPage(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"onSelect",value:function(e){var t=this.userPage.content.find(function(t){return t.id===e});this.user=t}},{key:"onRemoveAgent",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Are you sure remove agent with id "+e)){t.next=10;break}return t.prev=1,t.next=4,this.userService.removeAdminAgents(e).toPromise();case 4:this.getUserPage(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}))}}]),t}()).\u0275fac=function(e){return new(e||C)(o.Jb(a.a))},C.\u0275cmp=o.Db({type:C,selectors:[["app-admin-agent"]],decls:30,vars:3,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"row"],[1,"col-md-6"],[1,"text-center"],[1,"table","border"],[4,"ngFor","ngForOf"],["colspan","4"],[3,"page","getPage"],[3,"user","create","removeAgent"],[1,"btn-sm","btn-warning",3,"click"],[1,"fa","fa-pencil-square-o"]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Ob(1,"span",1),o.yc(2,"Agents"),o.Nb(),o.Nb(),o.Ob(3,"div",0),o.Ob(4,"div",2),o.Ob(5,"div",3),o.Ob(6,"h3",4),o.yc(7,"Agent list"),o.Nb(),o.Ob(8,"table",5),o.Ob(9,"thead"),o.Ob(10,"tr"),o.Ob(11,"th"),o.yc(12,"Name"),o.Nb(),o.Ob(13,"th"),o.yc(14,"Phone"),o.Nb(),o.Ob(15,"th"),o.yc(16,"Email"),o.Nb(),o.Ob(17,"th"),o.yc(18,"Commission"),o.Nb(),o.Kb(19,"th"),o.Nb(),o.Nb(),o.Ob(20,"tbody"),o.wc(21,R,12,4,"tr",6),o.Nb(),o.Ob(22,"tfoot"),o.Ob(23,"tr"),o.Ob(24,"td",7),o.Ob(25,"pagination",8),o.Yb("getPage",function(e){return t.getUserPage(e)}),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(26,"div",3),o.Ob(27,"h3",4),o.yc(28,"Add Agent"),o.Nb(),o.Ob(29,"admin-agent-form",9),o.Yb("create",function(e){return t.onCreate(e)})("removeAgent",function(e){return t.onRemoveAgent(e)}),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.xb(21),o.hc("ngForOf",null==t.userPage?null:t.userPage.content),o.xb(4),o.hc("page",t.userPage),o.xb(4),o.hc("user",t.user))},directives:[l.m,h.a,I],styles:[""]}),C),F=i("WGvi");function L(e,t){if(1&e&&(o.Ob(0,"span"),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.xb(1),o.Ac(" ",n.name," ")}}function z(e,t){if(1&e){var n=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Nb(),o.Ob(3,"td"),o.yc(4),o.Nb(),o.Ob(5,"td"),o.yc(6),o.Nb(),o.Ob(7,"td"),o.wc(8,L,2,1,"span",17),o.Nb(),o.Ob(9,"td",18),o.Ob(10,"button",19),o.Yb("click",function(){o.qc(n);var e=t.$implicit;return o.ac(2).onEdit(e.id)}),o.Kb(11,"i",20),o.Nb(),o.Nb(),o.Nb()}if(2&e){var r=t.$implicit;o.xb(2),o.zc(r.name),o.xb(2),o.zc(r.phoneNumber),o.xb(2),o.zc(r.email),o.xb(2),o.hc("ngForOf",null==r?null:r.roles)}}function K(e,t){if(1&e&&(o.Ob(0,"tbody"),o.wc(1,z,12,4,"tr",17),o.Nb()),2&e){var n=o.ac();o.xb(1),o.hc("ngForOf",n.userPage.content)}}function E(e,t){if(1&e){var n=o.Pb();o.Ob(0,"pagination",21),o.Yb("getPage",function(e){return o.qc(n),o.ac().getUserPage(e)}),o.Nb()}if(2&e){var r=o.ac();o.hc("page",r.userPage)}}function Y(e,t){if(1&e){var n=o.Pb();o.Ob(0,"div",4),o.Ob(1,"change-password-form",22),o.Yb("create",function(e){return o.qc(n),o.ac().onChangePassword(e)}),o.Nb(),o.Nb()}if(2&e){var r=o.ac();o.xb(1),o.hc("user",r.user)}}function $(e,t){1&e&&(o.Ob(0,"div",4),o.Ob(1,"div",23),o.yc(2," Congratulation! Password changed successfully "),o.Nb(),o.Nb())}var j,M=((j=function(){function t(n){e(this,t),this.userService=n,this.loading=!1,this.successMessage=!1}return n(t,[{key:"ngOnInit",value:function(){this.getUserPage()}},{key:"getUserPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.loading=!0,r.prev=1,r.next=4,this.userService.findByUsernameOrPhoneNumber(t,n,e).toPromise();case 4:this.userPage=r.sent,this.loading=!1,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}},r,this,[[1,8]])}))}},{key:"onEdit",value:function(e){this.successMessage=!1;var t=this.userPage.content.find(function(t){return t.id===e});this.user=Object.assign({},t)}},{key:"onFindByPhone",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}},{key:"searchUser",value:function(){this.getUserPage(0,this.query)}},{key:"onChangePassword",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.userService.changePasswordByAdmin(e.id,e.password).toPromise();case 3:this.user=null,this.successMessage=!0,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}}]),t}()).\u0275fac=function(e){return new(e||j)(o.Jb(a.a))},j.\u0275cmp=o.Db({type:j,selectors:[["app-change-password"]],decls:34,vars:5,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"text-center"],[1,"mx-3","my-1",3,"ngSubmit"],[1,"input-group","mb-2"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],["type","text","id","userQuery","name","userQuery","placeholder","User name or phone",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","border","table-responsive-sm"],[4,"ngIf"],["colspan","5"],[3,"page","getPage",4,"ngIf"],["class","col-md-6",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa","fa-edit"],[3,"page","getPage"],[3,"user","create"],["role","alert",1,"alert","alert-success"]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Ob(1,"span",1),o.yc(2," Change password "),o.Nb(),o.Nb(),o.Ob(3,"div",2),o.Ob(4,"div",3),o.Ob(5,"div",4),o.Ob(6,"h3",5),o.yc(7,"User List"),o.Nb(),o.Ob(8,"form",6),o.Yb("ngSubmit",function(){return t.searchUser()}),o.Ob(9,"div",7),o.Ob(10,"div",8),o.Ob(11,"div",9),o.Kb(12,"i",10),o.yc(13,"\xa0 Search "),o.Nb(),o.Nb(),o.Ob(14,"input",11),o.Yb("ngModelChange",function(e){return t.query=e}),o.Nb(),o.Nb(),o.Nb(),o.Ob(15,"table",12),o.Ob(16,"thead"),o.Ob(17,"tr"),o.Ob(18,"th"),o.yc(19,"Name"),o.Nb(),o.Ob(20,"th"),o.yc(21,"Phone"),o.Nb(),o.Ob(22,"th"),o.yc(23,"Email"),o.Nb(),o.Ob(24,"th"),o.yc(25,"Role"),o.Nb(),o.Kb(26,"th"),o.Nb(),o.Nb(),o.wc(27,K,2,1,"tbody",13),o.Ob(28,"tfoot"),o.Ob(29,"tr"),o.Ob(30,"td",14),o.wc(31,E,1,1,"pagination",15),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.wc(32,Y,2,1,"div",16),o.wc(33,$,3,0,"div",16),o.Nb(),o.Nb()),2&e&&(o.xb(14),o.hc("ngModel",t.query),o.xb(13),o.hc("ngIf",(null==t.userPage?null:t.userPage.content.length)>0),o.xb(4),o.hc("ngIf",null!=t.userPage),o.xb(1),o.hc("ngIf",t.user&&!t.successMessage),o.xb(1),o.hc("ngIf",t.successMessage))},directives:[u.v,u.l,u.m,u.b,u.k,u.n,l.n,l.m,h.a,F.a],styles:[""]}),j),T=i("HymT");function B(e,t){if(1&e&&(o.Ob(0,"span"),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.xb(1),o.Ac(" ",n.name," ")}}function G(e,t){if(1&e&&(o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Nb(),o.Ob(3,"td"),o.yc(4),o.Nb(),o.Ob(5,"td"),o.wc(6,B,2,1,"span",13),o.Nb(),o.Nb()),2&e){var n=t.$implicit,r=o.ac(2);o.xb(2),o.zc(n.shipNumber),o.xb(2),o.zc(n.name),o.xb(2),o.hc("ngForOf",null==r.user?null:r.user.roles)}}function J(e,t){if(1&e&&(o.Ob(0,"div",14),o.Ob(1,"h4"),o.yc(2),o.Nb(),o.Ob(3,"table",9),o.Ob(4,"thead"),o.Ob(5,"tr"),o.Ob(6,"th"),o.yc(7," Ship No. "),o.Nb(),o.Ob(8,"th"),o.yc(9," Name "),o.Nb(),o.Ob(10,"th"),o.yc(11,"Role"),o.Nb(),o.Nb(),o.Nb(),o.Ob(12,"tbody"),o.wc(13,G,7,3,"tr",13),o.Nb(),o.Nb(),o.Nb()),2&e){var n=o.ac();o.xb(2),o.Ac("",n.user.name," Ship list"),o.xb(11),o.hc("ngForOf",n.userShipList)}}function D(e,t){if(1&e){var n=o.Pb();o.Ob(0,"button",21),o.Yb("click",function(){return o.qc(n),o.ac(2).onSubmit()}),o.yc(1,"Submit"),o.Nb()}}function V(e,t){if(1&e){var n=o.Pb();o.Ob(0,"div",15),o.Ob(1,"h4"),o.yc(2," Assign Ship Admin"),o.Nb(),o.Ob(3,"div",16),o.Ob(4,"label",17),o.yc(5,"User Name"),o.Nb(),o.Ob(6,"label",18),o.yc(7),o.Nb(),o.Nb(),o.Ob(8,"div",16),o.Ob(9,"label",17),o.yc(10,"Ship Name"),o.Nb(),o.Ob(11,"label",18),o.yc(12),o.Nb(),o.Nb(),o.Ob(13,"button",19),o.Yb("click",function(){return o.qc(n),o.ac().onClear()}),o.yc(14,"clear"),o.Nb(),o.wc(15,D,2,0,"button",20),o.Nb()}if(2&e){var r=o.ac();o.xb(7),o.zc(null==r.user?null:r.user.name),o.xb(5),o.Bc("",null==r.ship?null:r.ship.shipNumber," - ",null==r.ship?null:r.ship.name,""),o.xb(3),o.hc("ngIf",r.user&&r.ship)}}function H(e,t){if(1&e&&(o.Ob(0,"span"),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.xb(1),o.Ac("",n.name,", ")}}function Q(e,t){if(1&e&&(o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Nb(),o.Ob(3,"td"),o.yc(4),o.Nb(),o.Ob(5,"td"),o.wc(6,H,2,1,"span",13),o.Nb(),o.Nb()),2&e){var n=t.$implicit;o.xb(2),o.zc(n.name),o.xb(2),o.zc(n.phoneNumber),o.xb(2),o.hc("ngForOf",n.roles)}}function W(e,t){if(1&e&&(o.Ob(0,"div",14),o.Ob(1,"div",22),o.Ob(2,"h4"),o.yc(3),o.Nb(),o.Ob(4,"table",9),o.Ob(5,"thead"),o.Ob(6,"tr"),o.Ob(7,"th"),o.yc(8," Name "),o.Nb(),o.Ob(9,"th"),o.yc(10," Phone "),o.Nb(),o.Ob(11,"th"),o.yc(12,"Role"),o.Nb(),o.Nb(),o.Nb(),o.Ob(13,"tbody"),o.wc(14,Q,7,3,"tr",13),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&e){var n=o.ac();o.xb(3),o.Bc("",n.ship.shipNumber,"-",n.ship.name," User list"),o.xb(11),o.hc("ngForOf",n.shipUserList)}}function X(e,t){if(1&e&&(o.Ob(0,"span",26),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.hc("ngClass",t.index%2==0?"badge-success":"badge-info"),o.xb(1),o.Ac(" ",n.name," ")}}function Z(e,t){if(1&e){var n=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Kb(3,"br"),o.wc(4,X,2,2,"span",23),o.Nb(),o.Ob(5,"td"),o.yc(6),o.Kb(7,"br"),o.yc(8),o.Nb(),o.Ob(9,"td"),o.yc(10),o.Nb(),o.Ob(11,"td"),o.Ob(12,"button",24),o.Yb("click",function(){o.qc(n);var e=t.$implicit;return o.ac(2).onSelectUser(e.id)}),o.Kb(13,"i",25),o.Nb(),o.Nb(),o.Nb()}if(2&e){var r=t.$implicit;o.xb(2),o.Ac(" ",r.name," "),o.xb(2),o.hc("ngForOf",null==r?null:r.roles),o.xb(2),o.Ac(" ",r.phoneNumber," "),o.xb(2),o.Ac(" ",r.email," "),o.xb(2),o.zc(r.enabled?"ACTIVE":"INACTIVE")}}function _(e,t){if(1&e&&(o.Ob(0,"tbody"),o.wc(1,Z,14,5,"tr",13),o.Nb()),2&e){var n=o.ac();o.xb(1),o.hc("ngForOf",n.userPage.content)}}function ee(e,t){if(1&e){var n=o.Pb();o.Ob(0,"pagination",27),o.Yb("getPage",function(e){return o.qc(n),o.ac().getUserPage(e)}),o.Nb()}if(2&e){var r=o.ac();o.hc("page",r.userPage)}}function te(e,t){if(1&e){var n=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Nb(),o.Ob(3,"td"),o.yc(4),o.Nb(),o.Ob(5,"td"),o.yc(6),o.Nb(),o.Ob(7,"td"),o.yc(8),o.Nb(),o.Ob(9,"td"),o.yc(10),o.Kb(11,"br"),o.yc(12),o.Nb(),o.Ob(13,"td"),o.Ob(14,"button",24),o.Yb("click",function(){o.qc(n);var e=t.$implicit;return o.ac().onSelectShip(e.id)}),o.Kb(15,"i",25),o.Nb(),o.Nb(),o.Nb()}if(2&e){var r=t.$implicit;o.xb(2),o.zc(r.shipNumber),o.xb(2),o.zc(r.name),o.xb(2),o.zc(r.phoneNumber),o.xb(2),o.zc(r.enabled),o.xb(2),o.Ac("",null==r||null==r.admin?null:r.admin.name," "),o.xb(2),o.Ac(" ",null==r||null==r.admin?null:r.admin.phoneNumber," ")}}function ne(e,t){if(1&e&&(o.Ob(0,"span"),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.xb(1),o.Ac(" ",n.name," ")}}function re(e,t){if(1&e&&(o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Nb(),o.Ob(3,"td"),o.yc(4),o.Nb(),o.Ob(5,"td"),o.wc(6,ne,2,1,"span",13),o.Nb(),o.Nb()),2&e){var n=t.$implicit,r=o.ac(2);o.xb(2),o.zc(n.shipNumber),o.xb(2),o.zc(n.name),o.xb(2),o.hc("ngForOf",null==r.user?null:r.user.roles)}}function ie(e,t){if(1&e&&(o.Ob(0,"div",14),o.Ob(1,"h4"),o.yc(2),o.Nb(),o.Ob(3,"table",9),o.Ob(4,"thead"),o.Ob(5,"tr"),o.Ob(6,"th"),o.yc(7," Ship No. "),o.Nb(),o.Ob(8,"th"),o.yc(9," Name "),o.Nb(),o.Ob(10,"th"),o.yc(11,"Role"),o.Nb(),o.Nb(),o.Nb(),o.Ob(12,"tbody"),o.wc(13,re,7,3,"tr",13),o.Nb(),o.Nb(),o.Nb()),2&e){var n=o.ac();o.xb(2),o.Ac("",n.user.name," Ship list"),o.xb(11),o.hc("ngForOf",n.userShipList)}}function ce(e,t){if(1&e){var n=o.Pb();o.Ob(0,"button",21),o.Yb("click",function(){return o.qc(n),o.ac(2).onSubmit()}),o.yc(1,"Submit"),o.Nb()}}function se(e,t){if(1&e){var n=o.Pb();o.Ob(0,"div",15),o.Ob(1,"h4"),o.yc(2," Assign Ship Admin"),o.Nb(),o.Ob(3,"div",16),o.Ob(4,"label",17),o.yc(5,"User Name"),o.Nb(),o.Ob(6,"label",18),o.yc(7),o.Nb(),o.Nb(),o.Ob(8,"div",16),o.Ob(9,"label",17),o.yc(10,"Ship Name"),o.Nb(),o.Ob(11,"label",18),o.yc(12),o.Nb(),o.Nb(),o.Ob(13,"button",19),o.Yb("click",function(){return o.qc(n),o.ac().onClear()}),o.yc(14,"clear"),o.Nb(),o.wc(15,ce,2,0,"button",20),o.Nb()}if(2&e){var r=o.ac();o.xb(7),o.zc(null==r.user?null:r.user.name),o.xb(5),o.zc(null==r.ship?null:r.ship.name),o.xb(3),o.hc("ngIf",r.user&&r.ship)}}function be(e,t){if(1&e&&(o.Ob(0,"span"),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.xb(1),o.Ac("",n.name,", ")}}function ae(e,t){if(1&e&&(o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Nb(),o.Ob(3,"td"),o.yc(4),o.Nb(),o.Ob(5,"td"),o.wc(6,be,2,1,"span",13),o.Nb(),o.Nb()),2&e){var n=t.$implicit;o.xb(2),o.zc(n.name),o.xb(2),o.zc(n.phoneNumber),o.xb(2),o.hc("ngForOf",n.roles)}}function oe(e,t){if(1&e&&(o.Ob(0,"div",14),o.Ob(1,"h4"),o.yc(2),o.Nb(),o.Ob(3,"table",9),o.Ob(4,"thead"),o.Ob(5,"tr"),o.Ob(6,"th"),o.yc(7," Name "),o.Nb(),o.Ob(8,"th"),o.yc(9," Phone "),o.Nb(),o.Ob(10,"th"),o.yc(11,"Role"),o.Nb(),o.Nb(),o.Nb(),o.Ob(12,"tbody"),o.wc(13,ae,7,3,"tr",13),o.Nb(),o.Nb(),o.Nb()),2&e){var n=o.ac();o.xb(2),o.Bc("",n.ship.shipNumber,"-",n.ship.name," User list"),o.xb(11),o.hc("ngForOf",n.shipUserList)}}function ue(e,t){if(1&e&&(o.Ob(0,"span",25),o.yc(1),o.Nb()),2&e){var n=t.$implicit;o.hc("ngClass",t.index%2==0?"badge-success":"badge-info"),o.xb(1),o.Ac(" ",n.name," ")}}function le(e,t){if(1&e){var n=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Kb(3,"br"),o.wc(4,ue,2,2,"span",22),o.Nb(),o.Ob(5,"td"),o.yc(6),o.Kb(7,"br"),o.yc(8),o.Nb(),o.Ob(9,"td"),o.yc(10),o.Nb(),o.Ob(11,"td"),o.Ob(12,"button",23),o.Yb("click",function(){o.qc(n);var e=t.$implicit;return o.ac(2).onSelectUser(e.id)}),o.Kb(13,"i",24),o.Nb(),o.Nb(),o.Nb()}if(2&e){var r=t.$implicit;o.xb(2),o.Ac(" ",r.name," "),o.xb(2),o.hc("ngForOf",null==r?null:r.roles),o.xb(2),o.Ac(" ",r.phoneNumber," "),o.xb(2),o.Ac(" ",r.email," "),o.xb(2),o.zc(r.enabled?"ACTIVE":"INACTIVE")}}function he(e,t){if(1&e&&(o.Ob(0,"tbody"),o.wc(1,le,14,5,"tr",13),o.Nb()),2&e){var n=o.ac();o.xb(1),o.hc("ngForOf",n.userPage.content)}}function de(e,t){if(1&e){var n=o.Pb();o.Ob(0,"pagination",26),o.Yb("getPage",function(e){return o.qc(n),o.ac().getUserPage(e)}),o.Nb()}if(2&e){var r=o.ac();o.hc("page",r.userPage)}}function me(e,t){if(1&e){var n=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.yc(2),o.Nb(),o.Ob(3,"td"),o.yc(4),o.Nb(),o.Ob(5,"td"),o.yc(6),o.Nb(),o.Ob(7,"td"),o.yc(8),o.Nb(),o.Ob(9,"td"),o.yc(10),o.Kb(11,"br"),o.yc(12),o.Nb(),o.Ob(13,"td"),o.Ob(14,"button",23),o.Yb("click",function(){o.qc(n);var e=t.$implicit;return o.ac().onSelectShip(e.id)}),o.Kb(15,"i",24),o.Nb(),o.Nb(),o.Nb()}if(2&e){var r=t.$implicit;o.xb(2),o.zc(r.shipNumber),o.xb(2),o.zc(r.name),o.xb(2),o.zc(r.phoneNumber),o.xb(2),o.zc(r.enabled),o.xb(2),o.Ac("",null==r||null==r.admin?null:r.admin.name," "),o.xb(2),o.Ac(" ",null==r||null==r.admin?null:r.admin.phoneNumber,"")}}var ge,fe,pe,ve=[{path:"add",component:x},{path:"assign",component:(fe=function(){function t(n,r){e(this,t),this.shipService=n,this.userService=r,this.shipUserList=[],this.userShipList=[]}return n(t,[{key:"ngOnInit",value:function(){this.getAdminShipPage(),this.getUserPage()}},{key:"getAdminShipPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.shipService.getAdminShipPage(e).toPromise();case 3:this.shipPage=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"getUserPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.userService.getAdminUsers(e,t).toPromise();case 3:this.userPage=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}},n,this,[[0,6]])}))}},{key:"getUerListByShipId",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.shipUserList=[],t.prev=1,t.next=4,this.userService.gerAdminUserListByShipId(e).toPromise();case 4:this.shipUserList=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}))}},{key:"getShipListByUserId",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.userShipList=[],t.prev=1,t.next=4,this.userService.getAdminShipListByUserId(e).toPromise();case 4:this.userShipList=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}))}},{key:"onSelectUser",value:function(e){var t=this.userPage.content.find(function(t){return t.id===e});this.user=t,this.getShipListByUserId(e)}},{key:"onSelectShip",value:function(e){var t=this.shipPage.content.find(function(t){return t.id===e});this.ship=t,this.getUerListByShipId(e)}},{key:"onSubmit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.userService.assignAdminShipAgent(this.user.id,this.ship.id).toPromise(),this.getUserPage(),this.onClear()}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e,this)}))}},{key:"onClear",value:function(){this.ship=null,this.user=null,this.shipUserList=[],this.userShipList=[]}}]),t}(),fe.\u0275fac=function(e){return new(e||fe)(o.Jb(T.a),o.Jb(a.a))},fe.\u0275cmp=o.Db({type:fe,selectors:[["app-assign-user"]],decls:47,vars:6,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row","m-0"],["class","col-md-4",4,"ngIf"],["class","col-md-4 border",4,"ngIf"],[1,"row"],[1,"col-md-6"],[1,"text-center",2,"background","#75edf1"],[1,"table","border"],[4,"ngIf"],["colspan","4"],[3,"page","getPage",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"col-md-4","border"],[1,"form-group"],["for","userName"],["id","userName",1,"form-control"],[1,"btn","btn-sm","btn-danger","mb-2","mx-1",3,"click"],["class","btn btn-sm btn-primary mb-2 mx-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mb-2","mx-1",3,"click"],[1,"shadow-sm","p-3"],["class","badge badge-pill",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"badge","badge-pill",3,"ngClass"],[3,"page","getPage"]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Ob(1,"span",1),o.yc(2," Assign User "),o.Nb(),o.Nb(),o.Ob(3,"div",2),o.Ob(4,"div",3),o.wc(5,J,14,2,"div",4),o.wc(6,V,16,4,"div",5),o.wc(7,W,15,3,"div",4),o.Nb(),o.Nb(),o.Ob(8,"div",0),o.Ob(9,"div",6),o.Ob(10,"div",7),o.Ob(11,"h3",8),o.yc(12,"User list"),o.Nb(),o.Ob(13,"table",9),o.Ob(14,"thead"),o.Ob(15,"tr"),o.Ob(16,"th"),o.yc(17,"Name"),o.Nb(),o.Ob(18,"th"),o.yc(19,"Phone, Email"),o.Nb(),o.Ob(20,"th"),o.yc(21,"Staus"),o.Nb(),o.Kb(22,"th"),o.Nb(),o.Nb(),o.wc(23,_,2,1,"tbody",10),o.Ob(24,"tfoot"),o.Ob(25,"tr"),o.Ob(26,"td",11),o.wc(27,ee,1,1,"pagination",12),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(28,"div",7),o.Ob(29,"h3",8),o.yc(30,"Ship list"),o.Nb(),o.Ob(31,"table",9),o.Ob(32,"thead"),o.Ob(33,"tr"),o.Ob(34,"th"),o.yc(35,"Ship No."),o.Nb(),o.Ob(36,"th"),o.yc(37,"Name"),o.Nb(),o.Ob(38,"th"),o.yc(39,"Phone"),o.Nb(),o.Ob(40,"th"),o.yc(41,"Enabled"),o.Nb(),o.Ob(42,"th"),o.yc(43,"Admin"),o.Nb(),o.Kb(44,"th"),o.Nb(),o.Nb(),o.Ob(45,"tbody"),o.wc(46,te,16,6,"tr",13),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.xb(5),o.hc("ngIf",t.userShipList.length>0),o.xb(1),o.hc("ngIf",t.user||t.ship),o.xb(1),o.hc("ngIf",t.shipUserList.length),o.xb(16),o.hc("ngIf",t.userPage),o.xb(4),o.hc("ngIf",null!=t.userPage),o.xb(19),o.hc("ngForOf",null==t.shipPage?null:t.shipPage.content))},directives:[l.n,l.m,l.l,h.a],styles:[""]}),fe)},{path:"assign-ship-admin",component:(ge=function(){function t(n,r){e(this,t),this.shipService=n,this.userService=r,this.shipUserList=[],this.userShipList=[]}return n(t,[{key:"ngOnInit",value:function(){this.getAdminShipPage(),this.getUserPage()}},{key:"getAdminShipPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.shipService.getAdminShipPage(e).toPromise();case 3:this.shipPage=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"getUserPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.userService.getAdminUsers(e,t).toPromise();case 3:this.userPage=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}},n,this,[[0,6]])}))}},{key:"getUerListByShipId",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.shipUserList=[],t.prev=1,t.next=4,this.userService.gerAdminUserListByShipId(e).toPromise();case 4:this.shipUserList=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}))}},{key:"getShipListByUserId",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.userShipList=[],t.prev=1,t.next=4,this.userService.getAdminShipListByUserId(e).toPromise();case 4:this.userShipList=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}))}},{key:"onSelectUser",value:function(e){var t=this.userPage.content.find(function(t){return t.id===e});this.user=t,this.getShipListByUserId(e)}},{key:"onSelectShip",value:function(e){var t=this.shipPage.content.find(function(t){return t.id===e});this.ship=t,this.getUerListByShipId(e)}},{key:"onSubmit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.userService.assignAdminShipAdmin(this.user.id,this.ship.id).toPromise();case 3:this.onClear(),this.getAdminShipPage(),this.getUserPage(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"onClear",value:function(){this.user=null,this.ship=null,this.shipUserList=[],this.userShipList=[]}}]),t}(),ge.\u0275fac=function(e){return new(e||ge)(o.Jb(T.a),o.Jb(a.a))},ge.\u0275cmp=o.Db({type:ge,selectors:[["app-assign-ship-admin"]],decls:46,vars:6,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row","mb-2"],["class","col-md-4",4,"ngIf"],["class","col-md-4 border",4,"ngIf"],[1,"row"],[1,"col-md-6"],[1,"text-center",2,"background","#75edf1"],[1,"table","border"],[4,"ngIf"],["colspan","4"],[3,"page","getPage",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"col-md-4","border"],[1,"form-group"],["for","userName"],["id","userName",1,"form-control"],[1,"btn","btn-sm","btn-danger","mb-2","mx-1",3,"click"],["class","btn btn-sm btn-primary mb-2 mx-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mb-2","mx-1",3,"click"],["class","badge badge-pill",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"badge","badge-pill",3,"ngClass"],[3,"page","getPage"]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Ob(1,"span",1),o.yc(2," Assign Ship Admin "),o.Nb(),o.Nb(),o.Ob(3,"div",2),o.Ob(4,"div",3),o.wc(5,ie,14,2,"div",4),o.wc(6,se,16,3,"div",5),o.wc(7,oe,14,3,"div",4),o.Nb(),o.Ob(8,"div",6),o.Ob(9,"div",7),o.Ob(10,"h3",8),o.yc(11,"User list"),o.Nb(),o.Ob(12,"table",9),o.Ob(13,"thead"),o.Ob(14,"tr"),o.Ob(15,"th"),o.yc(16,"Name"),o.Nb(),o.Ob(17,"th"),o.yc(18,"Phone, Email"),o.Nb(),o.Ob(19,"th"),o.yc(20,"Staus"),o.Nb(),o.Kb(21,"th"),o.Nb(),o.Nb(),o.wc(22,he,2,1,"tbody",10),o.Ob(23,"tfoot"),o.Ob(24,"tr"),o.Ob(25,"td",11),o.wc(26,de,1,1,"pagination",12),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(27,"div",7),o.Ob(28,"h3",8),o.yc(29,"Ship list"),o.Nb(),o.Ob(30,"table",9),o.Ob(31,"thead"),o.Ob(32,"tr"),o.Ob(33,"th"),o.yc(34,"Ship No."),o.Nb(),o.Ob(35,"th"),o.yc(36,"Name"),o.Nb(),o.Ob(37,"th"),o.yc(38,"Phone"),o.Nb(),o.Ob(39,"th"),o.yc(40,"Enabled"),o.Nb(),o.Ob(41,"th"),o.yc(42,"Admin"),o.Nb(),o.Kb(43,"th"),o.Nb(),o.Nb(),o.Ob(44,"tbody"),o.wc(45,me,16,6,"tr",13),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.xb(5),o.hc("ngIf",t.userShipList.length>0),o.xb(1),o.hc("ngIf",t.user||t.ship),o.xb(1),o.hc("ngIf",t.shipUserList.length>0),o.xb(15),o.hc("ngIf",t.userPage),o.xb(4),o.hc("ngIf",null!=t.userPage),o.xb(19),o.hc("ngForOf",null==t.shipPage?null:t.shipPage.content))},directives:[l.n,l.m,l.l,h.a],styles:[""]}),ge)},{path:"admin-agent",component:q},{path:"change-password",component:M},{path:"",component:y}],Ne=((pe=function t(){e(this,t)}).\u0275mod=o.Hb({type:pe}),pe.\u0275inj=o.Gb({factory:function(e){return new(e||pe)},imports:[[s.a,c.e.forChild(ve)]]}),pe)}}])}();